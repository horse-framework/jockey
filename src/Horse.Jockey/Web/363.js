"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[363],{363:(k,g,r)=>{r.r(g),r.d(g,{PluginsModule:()=>y});var a=r(6814),d=r(658),_=r(6956),l=r(5861),n=r(8124),u=r(6124),f=r(4591);let p=(()=>{class e{constructor(t){this.api=t}list(){var t=this;return(0,l.Z)(function*(){return t.api.get("/plugin/list").pipe((0,u.U)(i=>i.ok()?i.data:null)).toPromise()})()}load(t){let i=new FormData;return i.append("file",t,t.name),this.api.postForm("/plugin/load",i).toPromise()}enable(t){var i=this;return(0,l.Z)(function*(){return i.api.put("/plugin/enable",{name:t}).pipe((0,u.U)(o=>o.ok()?o.data:null)).toPromise()})()}disable(t){var i=this;return(0,l.Z)(function*(){return i.api.put("/plugin/disable",{name:t}).pipe((0,u.U)(o=>o.ok()?o.data:null)).toPromise()})()}remove(t){var i=this;return(0,l.Z)(function*(){return i.api.put("/plugin/remove",{name:t}).pipe((0,u.U)(o=>o.ok()?o.data:null)).toPromise()})()}static#n=this.\u0275fac=function(i){return new(i||e)(n.LFG(f.S))};static#t=this.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const m=["fileUpload"];function b(e,s){if(1&e&&(n.ynx(0),n.TgZ(1,"span"),n._uU(2),n.TgZ(3,"em"),n._uU(4),n.qZA()(),n.TgZ(5,"em"),n._uU(6),n.qZA(),n.BQk()),2&e){const t=n.oxw(2).$implicit;n.xp6(2),n.hij("",t.fullname," "),n.xp6(2),n.hij("(",t.version,")"),n.xp6(2),n.Oqu(t.location)}}function v(e,s){if(1&e){const t=n.EpF();n.TgZ(0,"button",25),n.NdJ("click",function(){n.CHM(t);const o=n.oxw().$implicit,c=n.oxw(3);return n.KtG(c.remove(o))}),n._uU(1,"Remove"),n.qZA()}if(2&e){const t=n.oxw(4);n.uIk("disabled",t.processing?"disabled":null)}}function x(e,s){if(1&e){const t=n.EpF();n.TgZ(0,"button",26),n.NdJ("click",function(){n.CHM(t);const o=n.oxw().$implicit,c=n.oxw(3);return n.KtG(c.disable(o))}),n._uU(1,"Disable"),n.qZA()}if(2&e){const t=n.oxw(4);n.uIk("disabled",t.processing?"disabled":null)}}function h(e,s){if(1&e){const t=n.EpF();n.TgZ(0,"button",27),n.NdJ("click",function(){n.CHM(t);const o=n.oxw().$implicit,c=n.oxw(3);return n.KtG(c.enable(o))}),n._uU(1,"Enable"),n.qZA()}if(2&e){const t=n.oxw(4);n.uIk("disabled",t.processing?"disabled":null)}}function Z(e,s){if(1&e&&(n.ynx(0),n._UZ(1,"div",14),n.TgZ(2,"div",15),n._UZ(3,"div",16),n.TgZ(4,"div",17),n.YNc(5,b,7,3,"ng-container",18),n.qZA(),n.TgZ(6,"div",19)(7,"span"),n._uU(8),n.qZA(),n.TgZ(9,"em"),n._uU(10),n.qZA()(),n.TgZ(11,"div",20)(12,"span"),n._uU(13),n.qZA()(),n.TgZ(14,"div",20)(15,"span"),n._uU(16),n.qZA()(),n.TgZ(17,"div",21),n.YNc(18,v,2,1,"button",22)(19,x,2,1,"button",23)(20,h,2,1,"button",24),n.qZA()(),n.BQk()),2&e){const t=s.$implicit,i=s.index;n.xp6(5),n.Q6J("ngIf",0==i),n.xp6(3),n.Oqu(t.name),n.xp6(2),n.Oqu(t.builder),n.xp6(3),n.Oqu(t.disabled?"Disabled":"Enabled"),n.xp6(3),n.Oqu(t.removed?"Removed":"No"),n.xp6(2),n.Q6J("ngIf",!t.removed),n.xp6(1),n.Q6J("ngIf",!t.disabled),n.xp6(1),n.Q6J("ngIf",t.disabled||t.removed)}}function C(e,s){if(1&e&&(n.ynx(0),n.YNc(1,Z,21,8,"ng-container",13),n.BQk()),2&e){const t=s.$implicit;n.xp6(1),n.Q6J("ngForOf",t.plugins)}}function P(e,s){if(1&e){const t=n.EpF();n.TgZ(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"a",7),n.NdJ("click",function(){n.CHM(t);const o=n.oxw();return n.KtG(o.load())}),n.qZA()(),n.TgZ(5,"div",8),n._uU(6,"Assembly"),n.qZA(),n.TgZ(7,"div",9),n._uU(8,"Plugin"),n.qZA(),n.TgZ(9,"div",10),n._uU(10,"Enabled"),n.qZA(),n.TgZ(11,"div",10),n._uU(12,"Removed"),n.qZA(),n.TgZ(13,"div",11),n._uU(14,"Action"),n.qZA()(),n.TgZ(15,"div",12),n.YNc(16,C,2,1,"ng-container",13),n.qZA()()()}if(2&e){const t=n.oxw();n.xp6(4),n.uIk("disabled",t.processing?"disabled":null),n.xp6(12),n.Q6J("ngForOf",t.model)}}let T=(()=>{class e{constructor(t){this.service=t,this.processing=!1}ngOnInit(){this.list()}list(){var t=this;return(0,l.Z)(function*(){t.processing=!0,t.model=yield t.service.list(),t.processing=!1})()}load(){var t=this;return(0,l.Z)(function*(){console.log(t.fileUpload.nativeElement),t.fileUpload.nativeElement.click()})()}onFileChanged(t){var i=this;return(0,l.Z)(function*(){if(null==t.target||null==t.target.files||0==t.target.files.length)return;let o=t.target.files[0];i.processing=!0;try{yield i.service.load(o)}finally{i.processing=!1,i.list()}})()}enable(t){var i=this;return(0,l.Z)(function*(){i.processing=!0;try{yield i.service.enable(t.name),i.list()}finally{i.processing=!1}})()}disable(t){var i=this;return(0,l.Z)(function*(){i.processing=!0;try{yield i.service.disable(t.name),i.list()}finally{i.processing=!1}})()}remove(t){var i=this;return(0,l.Z)(function*(){i.processing=!0;try{yield i.service.remove(t.name)}finally{i.processing=!1,i.list()}})()}static#n=this.\u0275fac=function(i){return new(i||e)(n.Y36(p))};static#t=this.\u0275cmp=n.Xpm({type:e,selectors:[["app-plugins"]],viewQuery:function(i,o){if(1&i&&n.Gf(m,5),2&i){let c;n.iGM(c=n.CRH())&&(o.fileUpload=c.first)}},decls:3,vars:1,consts:[["class","plugins",4,"ngIf"],["type","file",2,"display","none",3,"change"],["fileUpload",""],[1,"plugins"],[1,"table"],[1,"thead"],[1,"th","fx40px"],["title","Upload New Assembly",1,"fa","fa-solid","fa-plus","hreverse",3,"click"],[1,"th","fx40"],[1,"th","fx24"],[1,"th","fx10"],[1,"th","fx14"],[1,"tbody"],[4,"ngFor","ngForOf"],[2,"height","1px","background-color","#666"],[1,"trow"],[1,"td","fx40px"],[1,"td","fx40"],[4,"ngIf"],[1,"td","fx24"],[1,"td","fx10"],[1,"td","fx14","tright"],["class","plugin-button red",3,"click",4,"ngIf"],["class","plugin-button orange",3,"click",4,"ngIf"],["class","plugin-button green",3,"click",4,"ngIf"],[1,"plugin-button","red",3,"click"],[1,"plugin-button","orange",3,"click"],[1,"plugin-button","green",3,"click"]],template:function(i,o){1&i&&(n.YNc(0,P,17,2,"div",0),n.TgZ(1,"input",1,2),n.NdJ("change",function(U){return o.onFileChanged(U)}),n.qZA()),2&i&&n.Q6J("ngIf",o.model)},dependencies:[a.sg,a.O5],styles:[".plugins[_ngcontent-%COMP%]{margin:auto;padding:0 60px;text-align:center}.plugins[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]{width:100%;text-align:left}.plugin-button[_ngcontent-%COMP%]{border:2px solid transparent;border-radius:2px;color:#f0f0f0;padding:6px 10px;min-width:90px;max-height:36px;margin:4px 0 0 14px;background-color:transparent}.plugin-button.red[_ngcontent-%COMP%]{border-color:#c02020}.plugin-button.red[_ngcontent-%COMP%]:hover{border-color:#f02020}.plugin-button.blue[_ngcontent-%COMP%]{border-color:#1050a0}.plugin-button.blue[_ngcontent-%COMP%]:hover{border-color:#1070c0}.plugin-button.green[_ngcontent-%COMP%]{border-color:#10a050}.plugin-button.green[_ngcontent-%COMP%]:hover{border-color:#10c070}.plugin-button.orange[_ngcontent-%COMP%]{border-color:#f60}.plugin-button.orange[_ngcontent-%COMP%]:hover{border-color:#fa2}.plugin-button[disabled=disabled][_ngcontent-%COMP%]{border-color:#888!important}"]})}return e})(),y=(()=>{class e{static#n=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=n.oAB({type:e});static#i=this.\u0275inj=n.cJS({providers:[p],imports:[a.ez,d.D,_.Bz.forChild([{path:"",component:T}])]})}return e})()}}]);