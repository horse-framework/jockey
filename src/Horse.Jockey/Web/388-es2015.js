"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[388],{86388:function(e,t,n){n.r(t),n.d(t,{QueueModule:function(){return te}});var o=n(38583),i=n(64762),s=n(6823),a=n.n(s),r=n(20945),u=n(52962),c=n(68823),g=n(78782),d=n(15257),l=n(79765),p=n(33018),Z=n(71636),m=n(90665);let h=(()=>{class e{constructor(){this._onconfirmed=new l.xQ,this.target="",this._confirmed=!1}get onconfirmed(){return this._onconfirmed}ngOnInit(){}confirm(){this._confirmed=!0,this._onconfirmed.next(this.target)}ngOnDestroy(){this._confirmed||this._onconfirmed.next(null)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=p.Xpm({type:e,selectors:[["app-messsage-move-modal"]],decls:17,vars:2,consts:[["mat-dialog-title","",1,"title"],[1,"content"],[1,"imp"],["placeholder","Queue Name","type","text",1,"target-text",3,"ngModel","ngModelChange"],[1,"buttons"],["mat-button","","mat-dialog-close","",1,"modal-btn","btn-confirm",3,"click"],["mat-button","","mat-dialog-close","",1,"modal-btn","btn-cancel"]],template:function(e,t){1&e&&(p.TgZ(0,"h2",0),p._uU(1,"Confirmation"),p.qZA(),p.TgZ(2,"mat-dialog-content",1),p.TgZ(3,"p"),p._uU(4," You are about to move "),p.TgZ(5,"b",2),p._uU(6),p.qZA(),p._uU(7," messages. Please type the target queue name."),p._UZ(8,"br"),p._uU(9," If the target queue doesn't exist, it will be created with default queue options. "),p.qZA(),p.TgZ(10,"div"),p.TgZ(11,"input",3),p.NdJ("ngModelChange",function(e){return t.target=e}),p.qZA(),p.qZA(),p.qZA(),p.TgZ(12,"mat-dialog-actions",4),p.TgZ(13,"button",5),p.NdJ("click",function(){return t.confirm()}),p._uU(14,"Confirm"),p.qZA(),p.TgZ(15,"button",6),p._uU(16,"Cancel"),p.qZA(),p.qZA()),2&e&&(p.xp6(6),p.Oqu(t.messageCount),p.xp6(5),p.Q6J("ngModel",t.target))},directives:[Z.uh,Z.xY,m.Fj,m.JJ,m.On,Z.H8,Z.ZT],styles:[".title[_ngcontent-%COMP%]{color:#eee}.content[_ngcontent-%COMP%]{padding:0 25px 10px;display:block}.content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#d2d2d2;font-size:14px;line-height:30px}.content[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:20px 0}.buttons[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;align-items:flex-start;align-content:flex-start;padding:15px 0}.modal-btn[_ngcontent-%COMP%]{padding:10px 20px;border:2px solid;border-radius:2px;background-color:transparent;font-weight:500;font-size:14px;color:#f0f0f0;margin-left:16px}.btn-cancel[_ngcontent-%COMP%]{border-color:#777}.btn-cancel[_ngcontent-%COMP%]:hover{border-color:#999}.btn-confirm[_ngcontent-%COMP%]{border-color:#10a040}.btn-confirm[_ngcontent-%COMP%]:hover{border-color:#10d060}.target-text[_ngcontent-%COMP%]{border:1px solid #555;background-color:#000;color:#eee;font-size:14px;font-weight:500;padding:8px;width:320px}.target-text[_ngcontent-%COMP%]:focus, .target-text[_ngcontent-%COMP%]:active{border-color:#10a040}"]}),e})();var f=n(59281);function q(e,t){if(1&e&&(p.TgZ(0,"div",5),p.TgZ(1,"div",19),p._uU(2),p.qZA(),p.TgZ(3,"div",7),p._uU(4),p.qZA(),p.qZA()),2&e){const e=t.$implicit;p.xp6(2),p.Oqu(e.name),p.xp6(2),p.Oqu(e.value)}}function x(e,t){if(1&e&&(p.TgZ(0,"div",4),p.YNc(1,q,5,2,"div",18),p.qZA()),2&e){const e=p.oxw();p.xp6(1),p.Q6J("ngForOf",e.message.headers)}}function v(e,t){1&e&&(p.TgZ(0,"p"),p._uU(1," The message has no headers "),p.qZA())}function _(e,t){if(1&e&&(p.TgZ(0,"div",20),p._uU(1),p.qZA()),2&e){const e=p.oxw();p.xp6(1),p.Oqu(e.message.message)}}function T(e,t){if(1&e&&(p._UZ(0,"pre",21),p.ALo(1,"prettyprint")),2&e){const e=p.oxw();p.Q6J("innerHTML",p.lcZ(1,1,e.message.messageObj),p.oJD)}}let b=(()=>{class e{constructor(){this.consumed=!1,this.isJson=!1}ngOnInit(){}setJson(e){this.isJson=e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=p.Xpm({type:e,selectors:[["app-queue-message-modal"]],decls:66,vars:22,consts:[["mat-dialog-title","",1,"title"],[1,"content"],[1,"queue-message"],[1,"message-props"],[1,"key-value-table"],[1,"kvt-row"],[1,"kvt-key-narrow"],[1,"kvt-value"],[1,"message-content"],[1,"message-headers"],["class","key-value-table",4,"ngIf"],[4,"ngIf"],[1,"message-content-title"],[3,"click"],["class","string-content",4,"ngIf"],["class","string-content",3,"innerHTML",4,"ngIf"],[1,"buttons"],["mat-button","","mat-dialog-close","",1,"modal-btn","btn-cancel"],["class","kvt-row",4,"ngFor","ngForOf"],[1,"kvt-key"],[1,"string-content"],[1,"string-content",3,"innerHTML"]],template:function(e,t){1&e&&(p.TgZ(0,"h2",0),p._uU(1,"Queue Message"),p.qZA(),p.TgZ(2,"mat-dialog-content",1),p.TgZ(3,"div",2),p.TgZ(4,"div",3),p.TgZ(5,"div",4),p.TgZ(6,"div",5),p.TgZ(7,"div",6),p._uU(8,"Id"),p.qZA(),p.TgZ(9,"div",7),p._uU(10),p.qZA(),p.qZA(),p.TgZ(11,"div",5),p.TgZ(12,"div",6),p._uU(13,"Source"),p.qZA(),p.TgZ(14,"div",7),p._uU(15),p.qZA(),p.qZA(),p.TgZ(16,"div",5),p.TgZ(17,"div",6),p._uU(18,"High Priority"),p.qZA(),p.TgZ(19,"div",7),p._uU(20),p.qZA(),p.qZA(),p.TgZ(21,"div",5),p.TgZ(22,"div",6),p._uU(23,"Created Date"),p.qZA(),p.TgZ(24,"div",7),p._uU(25),p.ALo(26,"date"),p.qZA(),p.qZA(),p.TgZ(27,"div",5),p.TgZ(28,"div",6),p._uU(29,"Deadline"),p.qZA(),p.TgZ(30,"div",7),p._uU(31),p.ALo(32,"date"),p.qZA(),p.qZA(),p.TgZ(33,"div",5),p.TgZ(34,"div",6),p._uU(35,"Persistently Saved"),p.qZA(),p.TgZ(36,"div",7),p._uU(37),p.qZA(),p.qZA(),p.TgZ(38,"div",5),p.TgZ(39,"div",6),p._uU(40,"Send Count"),p.qZA(),p.TgZ(41,"div",7),p._uU(42),p.qZA(),p.qZA(),p.TgZ(43,"div",5),p.TgZ(44,"div",6),p._uU(45,"Delivery Count"),p.qZA(),p.TgZ(46,"div",7),p._uU(47),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.TgZ(48,"div",8),p.TgZ(49,"h4"),p._uU(50,"Headers"),p.qZA(),p.TgZ(51,"div",9),p.YNc(52,x,2,1,"div",10),p.YNc(53,v,2,0,"p",11),p.qZA(),p.TgZ(54,"div",12),p.TgZ(55,"h4"),p._uU(56,"Message Content"),p.qZA(),p.TgZ(57,"span",13),p.NdJ("click",function(){return t.setJson(!1)}),p._uU(58,"String"),p.qZA(),p.TgZ(59,"span",13),p.NdJ("click",function(){return t.setJson(!0)}),p._uU(60,"JSON"),p.qZA(),p.qZA(),p.YNc(61,_,2,1,"div",14),p.YNc(62,T,2,3,"pre",15),p.qZA(),p.qZA(),p.qZA(),p.TgZ(63,"mat-dialog-actions",16),p.TgZ(64,"button",17),p._uU(65,"Close"),p.qZA(),p.qZA()),2&e&&(p.xp6(10),p.Oqu(t.message.id),p.xp6(5),p.Oqu(t.message.source),p.xp6(5),p.Oqu(t.message.priority),p.xp6(5),p.hij(" ",p.xi3(26,16,1e3*t.message.createdDate,"yyyy-MM-dd HH:mm:ss")," "),p.xp6(6),p.hij(" ",0==t.message.deadline?"No":p.xi3(32,19,1e3*t.message.deadline,"yyyy-MM-dd HH:mm:ss")," "),p.xp6(6),p.Oqu(t.message.isSaved),p.xp6(5),p.Oqu(t.message.sendCount),p.xp6(5),p.Oqu(t.message.deliveryCount),p.xp6(5),p.Q6J("ngIf",t.message.headers.length>0),p.xp6(1),p.Q6J("ngIf",0==t.message.headers.length),p.xp6(4),p.ekj("active",!t.isJson),p.xp6(2),p.ekj("active",t.isJson),p.xp6(2),p.Q6J("ngIf",!t.isJson),p.xp6(1),p.Q6J("ngIf",t.isJson))},directives:[Z.uh,Z.xY,o.O5,Z.H8,Z.ZT,o.sg],pipes:[o.uU,f.F],styles:['.title[_ngcontent-%COMP%]{color:#eee}.content[_ngcontent-%COMP%]{padding:0 25px 10px}.content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#d2d2d2;font-size:14px;line-height:30px}.buttons[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;align-items:flex-start;align-content:flex-start;padding:15px 0}.modal-btn[_ngcontent-%COMP%]{padding:10px 20px;border:2px solid;border-radius:2px;background-color:transparent;font-weight:500;font-size:14px;color:#f0f0f0;margin-left:16px}.btn-cancel[_ngcontent-%COMP%]{border-color:#777}.btn-cancel[_ngcontent-%COMP%]:hover{border-color:#999}.btn-confirm[_ngcontent-%COMP%]{border-color:#c01010}.btn-confirm[_ngcontent-%COMP%]:hover{border-color:#f33}.queue-message[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:stretch;align-content:stretch;justify-content:stretch;justify-items:stretch}.message-props[_ngcontent-%COMP%]{flex:1 1 440px}.message-content[_ngcontent-%COMP%]{flex:1 1 auto;border-left:1px solid #333;padding-left:20px}.message-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{display:block;color:#ccc;font-size:12px;font-weight:500;text-transform:uppercase;margin:0;padding:0}.message-headers[_ngcontent-%COMP%]{padding:5px 0 10px}.message-headers[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px;margin:10px 0;padding:0;color:#aaa}.message-content-title[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-content:stretch;align-items:stretch;justify-items:stretch;justify-content:stretch;height:28px;width:440px}.message-content-title[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{flex:1 0 auto}.message-content-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex:0 1 auto;padding:4px;margin-left:10px;color:#aaa;font-size:12px;cursor:pointer;margin-top:-4px}.message-content-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{color:#eee}.message-content-title[_ngcontent-%COMP%]   span.active[_ngcontent-%COMP%]{color:#fa2}.string-content[_ngcontent-%COMP%]{width:440px;clear:both;border:1px solid #333;border-radius:2px;padding:10px;margin:0;background-color:#000;height:222px;box-sizing:border-box;color:#eee;line-height:22px;font-size:13px;font-family:"Ubuntu Mono",monospace;overflow:auto}']}),e})();class A{}const M=["headerKeyInput"],C=["headerValueInput"];function y(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"tr"),p.TgZ(1,"td",25),p._uU(2),p.qZA(),p.TgZ(3,"td",26),p._uU(4),p.qZA(),p.TgZ(5,"td",27),p.TgZ(6,"span",28),p.NdJ("click",function(){const t=p.CHM(e).$implicit;return p.oxw().removeHeader(t.name)}),p._uU(7,"Remove"),p.qZA(),p.qZA(),p.qZA()}if(2&e){const e=t.$implicit;p.xp6(2),p.Oqu(e.name),p.xp6(2),p.Oqu(e.value)}}let O=(()=>{class e{constructor(){this._onconfirmed=new l.xQ,this._confirmed=!1,this.message=new A,this.message.id=this.generateUUID(),this.message.headers=[],this.message.contentType=0,this.message.priority=!1,this.message.message=""}get onconfirmed(){return this._onconfirmed}ngOnInit(){}ngOnDestroy(){this._confirmed||this._onconfirmed.next(null)}headerKeyUp(e,t){"Enter"==t.key&&(e?this.headerValueInput.nativeElement.focus():this.addHeader())}removeHeader(e){let t=this.message.headers.findIndex(t=>t.name==e);t<0||this.message.headers.splice(t,1)}addHeader(){let e=this.addingHeaderKey.trim(),t=this.addingHeaderValue.trim();e.length<1||t.length<1||(this.message.headers.push({name:e,value:t}),this.addingHeaderKey="",this.addingHeaderValue="",this.headerKeyInput.nativeElement.focus())}push(){this._confirmed=!0,this._onconfirmed.next(this.message)}generateUUID(){var e=(new Date).getTime(),t="undefined"!=typeof performance&&performance.now&&1e3*performance.now()||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var o=16*Math.random();return e>0?(o=(e+o)%16|0,e=Math.floor(e/16)):(o=(t+o)%16|0,t=Math.floor(t/16)),("x"===n?o:3&o|8).toString(16)})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=p.Xpm({type:e,selectors:[["app-queue-push-modal"]],viewQuery:function(e,t){if(1&e&&(p.Gf(M,5),p.Gf(C,5)),2&e){let e;p.iGM(e=p.CRH())&&(t.headerKeyInput=e.first),p.iGM(e=p.CRH())&&(t.headerValueInput=e.first)}},decls:47,vars:7,consts:[["mat-dialog-title","",1,"title"],[1,"content"],[1,"queue-message"],[1,"key-value-table"],[1,"kvt-row"],[1,"kvt-key-narrow"],[1,"kvt-value"],["type","text",1,"jockey-text",2,"width","280px",3,"ngModel","ngModelChange"],["type","number","min","0","max","65535",1,"jockey-text",2,"width","120px",3,"ngModel","ngModelChange"],["type","checkbox",1,"jockey-text",3,"ngModel","ngModelChange"],[1,"message-headers"],[1,"header-scroll","scroll"],[1,"message-header-table"],[4,"ngFor","ngForOf"],[1,"header-row"],[1,"header-input"],["placeholder","Key","type","text",1,"jockey-text",3,"ngModel","keyup","ngModelChange"],["headerKeyInput",""],[1,"header-seperator"],["placeholder","Value","type","text",1,"jockey-text",3,"ngModel","keyup","ngModelChange"],["headerValueInput",""],[1,"jockey-text","scroll",3,"ngModel","ngModelChange"],[1,"buttons"],["mat-button","","mat-dialog-close","",1,"modal-btn","btn-confirm",3,"click"],["mat-button","","mat-dialog-close","",1,"modal-btn","btn-cancel"],[1,"header-key"],[1,"header-value"],[1,"header-action"],[3,"click"]],template:function(e,t){1&e&&(p.TgZ(0,"h2",0),p._uU(1,"Push New Queue Message"),p.qZA(),p.TgZ(2,"mat-dialog-content",1),p.TgZ(3,"div",2),p.TgZ(4,"h4"),p._uU(5,"Message Properties"),p.qZA(),p.TgZ(6,"div",3),p.TgZ(7,"div",4),p.TgZ(8,"div",5),p._uU(9,"Id"),p.qZA(),p.TgZ(10,"div",6),p.TgZ(11,"input",7),p.NdJ("ngModelChange",function(e){return t.message.id=e}),p.qZA(),p.qZA(),p.qZA(),p.TgZ(12,"div",4),p.TgZ(13,"div",5),p._uU(14,"Content Type"),p.qZA(),p.TgZ(15,"div",6),p.TgZ(16,"input",8),p.NdJ("ngModelChange",function(e){return t.message.contentType=e}),p.qZA(),p.qZA(),p.qZA(),p.TgZ(17,"div",4),p.TgZ(18,"div",5),p._uU(19,"High Priority"),p.qZA(),p.TgZ(20,"div",6),p.TgZ(21,"input",9),p.NdJ("ngModelChange",function(e){return t.message.priority=e}),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p._UZ(22,"br"),p.TgZ(23,"h4"),p._uU(24,"Headers"),p.qZA(),p.TgZ(25,"div",10),p.TgZ(26,"div",11),p.TgZ(27,"table",12),p.YNc(28,y,8,2,"tr",13),p.qZA(),p.qZA(),p.qZA(),p.TgZ(29,"div",14),p.TgZ(30,"div",15),p.TgZ(31,"input",16,17),p.NdJ("keyup",function(e){return t.headerKeyUp(!0,e)})("ngModelChange",function(e){return t.addingHeaderKey=e}),p.qZA(),p.qZA(),p.TgZ(33,"div",18),p._uU(34,":"),p.qZA(),p.TgZ(35,"div",15),p.TgZ(36,"input",19,20),p.NdJ("keyup",function(e){return t.headerKeyUp(!1,e)})("ngModelChange",function(e){return t.addingHeaderValue=e}),p.qZA(),p.qZA(),p.qZA(),p._UZ(38,"br"),p.TgZ(39,"h4"),p._uU(40,"Message Content"),p.qZA(),p.TgZ(41,"textarea",21),p.NdJ("ngModelChange",function(e){return t.message.message=e}),p.qZA(),p.qZA(),p.qZA(),p.TgZ(42,"mat-dialog-actions",22),p.TgZ(43,"button",23),p.NdJ("click",function(){return t.push()}),p._uU(44,"Push Message"),p.qZA(),p.TgZ(45,"button",24),p._uU(46,"Close"),p.qZA(),p.qZA()),2&e&&(p.xp6(11),p.Q6J("ngModel",t.message.id),p.xp6(5),p.Q6J("ngModel",t.message.contentType),p.xp6(5),p.Q6J("ngModel",t.message.priority),p.xp6(7),p.Q6J("ngForOf",t.message.headers),p.xp6(3),p.Q6J("ngModel",t.addingHeaderKey),p.xp6(5),p.Q6J("ngModel",t.addingHeaderValue),p.xp6(5),p.Q6J("ngModel",t.message.message))},directives:[Z.uh,Z.xY,m.Fj,m.JJ,m.On,m.qQ,m.Fd,m.wV,m.Wl,o.sg,Z.H8,Z.ZT],styles:['.title[_ngcontent-%COMP%]{color:#eee}.content[_ngcontent-%COMP%]{padding:0 25px 10px}.content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#d2d2d2;font-size:14px;line-height:30px}.buttons[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;align-items:flex-start;align-content:flex-start;padding:15px 0}.modal-btn[_ngcontent-%COMP%]{padding:10px 20px;border:2px solid;border-radius:2px;background-color:transparent;font-weight:500;font-size:14px;color:#f0f0f0;margin-left:16px}.btn-cancel[_ngcontent-%COMP%]{border-color:#777}.btn-cancel[_ngcontent-%COMP%]:hover{border-color:#999}.btn-confirm[_ngcontent-%COMP%]{border-color:#109030}.btn-confirm[_ngcontent-%COMP%]:hover{border-color:#10f070}.queue-message[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:stretch;align-content:stretch;justify-content:stretch;justify-items:stretch}.queue-message[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{display:block;color:#ccc;font-size:12px;font-weight:500;text-transform:uppercase;margin:10px 0;padding:0}.message-headers[_ngcontent-%COMP%]{padding:0 0 10px}.header-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:stretch;align-content:stretch;justify-content:stretch;justify-items:stretch;font-size:14px;font-weight:500}.message-header-table[_ngcontent-%COMP%]{width:100%}.header-key[_ngcontent-%COMP%]{color:#aaa;text-align:right;padding:10px;font-size:15px}.header-value[_ngcontent-%COMP%]{color:#eee;text-align:left;padding:10px;font-size:14px}.header-action[_ngcontent-%COMP%]{text-align:right;padding:4px 0 4px 4px;flex:0 2 50px}.header-action[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:13px;font-weight:500;padding:6px;color:#ff2020;cursor:pointer}.header-action[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{color:#f90}.header-scroll[_ngcontent-%COMP%]{max-height:125px;overflow-y:auto;margin-right:8px;margin-bottom:12px}.header-seperator[_ngcontent-%COMP%]{color:#ccc;font-size:12px;flex:0 1 15px;box-sizing:border-box;padding:5px 0;line-height:32px;text-align:center}.header-input[_ngcontent-%COMP%]{font-size:12px;flex:1 1 auto;box-sizing:border-box;padding:5px}.header-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{box-sizing:border-box;width:100%}.queue-message[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:484px;height:90px;resize:none;line-height:22px;font-size:13px;font-family:"Ubuntu Mono",monospace}']}),e})();function U(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"input",8),p.NdJ("ngModelChange",function(t){return p.CHM(e),p.oxw().model.value=t}),p.qZA()}if(2&e){const e=p.oxw();p.Q6J("ngModel",e.model.value)}}function w(e,t){if(1&e&&(p.TgZ(0,"option",11),p._uU(1),p.qZA()),2&e){const e=t.$implicit;p.Q6J("ngValue",e.value),p.xp6(1),p.Oqu(e.text)}}function P(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"select",9),p.NdJ("ngModelChange",function(t){return p.CHM(e),p.oxw().model.value=t}),p.YNc(1,w,2,2,"option",10),p.qZA()}if(2&e){const e=p.oxw();p.Q6J("ngModel",e.model.value),p.xp6(1),p.Q6J("ngForOf",e.autoDestroyItems)}}let k=(()=>{class e{constructor(){this._onconfirmed=new l.xQ,this.model={confirmed:!1,title:"",property:"",value:null},this._confirmed=!1,this.autoDestroyItems=[{value:"Disabled",text:"Queue stays forever. It's removed only manually."},{value:"NoMessages",text:"Queue is destroyed if empty"},{value:"NoConsumers",text:"Queue is destroyed if there are no consumers (even not empty)"},{value:"Empty",text:"Queue is destroyed when it's empty and there are no consumers"}]}get onconfirmed(){return this._onconfirmed}ngOnInit(){}confirm(){this._confirmed=!0,this.model.confirmed=!0,this._onconfirmed.next(this.model)}ngOnDestroy(){this._confirmed||(this.model.confirmed=!1,this._onconfirmed.next(this.model))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=p.Xpm({type:e,selectors:[["app-queue-option-modal"]],decls:13,vars:3,consts:[["mat-dialog-title","",1,"title"],[1,"content"],[1,"form-item"],["placeholder","Option Value","class","target-text","type","text",3,"ngModel","ngModelChange",4,"ngIf"],["class","jockey-select",3,"ngModel","ngModelChange",4,"ngIf"],[1,"buttons"],["mat-button","","mat-dialog-close","",1,"modal-btn","btn-confirm",3,"click"],["mat-button","","mat-dialog-close","",1,"modal-btn","btn-cancel"],["placeholder","Option Value","type","text",1,"target-text",3,"ngModel","ngModelChange"],[1,"jockey-select",3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"]],template:function(e,t){1&e&&(p.TgZ(0,"h2",0),p._uU(1,"Queue Option Change"),p.qZA(),p.TgZ(2,"mat-dialog-content",1),p.TgZ(3,"div",2),p.TgZ(4,"label"),p._uU(5),p.qZA(),p.YNc(6,U,1,1,"input",3),p.YNc(7,P,2,2,"select",4),p.qZA(),p.qZA(),p.TgZ(8,"mat-dialog-actions",5),p.TgZ(9,"button",6),p.NdJ("click",function(){return t.confirm()}),p._uU(10,"Confirm"),p.qZA(),p.TgZ(11,"button",7),p._uU(12,"Cancel"),p.qZA(),p.qZA()),2&e&&(p.xp6(5),p.Oqu(t.model.title),p.xp6(1),p.Q6J("ngIf","autoDestroy"!=t.model.property),p.xp6(1),p.Q6J("ngIf","autoDestroy"==t.model.property))},directives:[Z.uh,Z.xY,o.O5,Z.H8,Z.ZT,m.Fj,m.JJ,m.On,m.EJ,o.sg,m.YN,m.Kr],styles:[".title[_ngcontent-%COMP%]{color:#eee}.content[_ngcontent-%COMP%]{padding:0 25px 10px;display:block}.content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#d2d2d2;font-size:14px;line-height:30px}.content[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:20px 0}.buttons[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;align-items:flex-start;align-content:flex-start;padding:15px 0}.modal-btn[_ngcontent-%COMP%]{padding:10px 20px;border:2px solid;border-radius:2px;background-color:transparent;font-weight:500;font-size:14px;color:#f0f0f0;margin-left:16px}.btn-cancel[_ngcontent-%COMP%]{border-color:#777}.btn-cancel[_ngcontent-%COMP%]:hover{border-color:#999}.btn-confirm[_ngcontent-%COMP%]{border-color:#10a040}.btn-confirm[_ngcontent-%COMP%]:hover{border-color:#10d060}.target-text[_ngcontent-%COMP%]{border:1px solid #555;background-color:#000;color:#eee;font-size:14px;font-weight:500;padding:8px;width:320px}.target-text[_ngcontent-%COMP%]:focus, .target-text[_ngcontent-%COMP%]:active{border-color:#10a040}.form-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1 1 auto;align-content:stretch;align-items:stretch;justify-content:stretch;justify-items:stretch;padding:8px 0}.form-item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{flex:1 1 auto;color:#bbb;font-size:13px;text-transform:uppercase;padding:4px 0;font-weight:500}.form-item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1 1 auto;width:432px}.form-item[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{flex:1 1 auto;width:450px}"]}),e})();var J=n(72667),N=n(59049),H=n(65608),I=n(2625),Q=n(68392),D=n(33369);function z(e,t){if(1&e&&(p.TgZ(0,"div",15),p._uU(1),p.ALo(2,"date"),p.qZA()),2&e){const e=p.oxw(2);p.xp6(1),p.Oqu(p.xi3(2,1,1e3*e.queue.stats.lastReceived,"yyyy-MM-dd HH:mm:ss"))}}function j(e,t){1&e&&(p.TgZ(0,"div",15),p._uU(1,"None"),p.qZA())}function S(e,t){if(1&e&&(p.TgZ(0,"div",15),p._uU(1),p.ALo(2,"date"),p.qZA()),2&e){const e=p.oxw(2);p.xp6(1),p.hij(" ",p.xi3(2,1,1e3*e.queue.stats.lastSent,"yyyy-MM-dd HH:mm:ss")," ")}}function Y(e,t){1&e&&(p.TgZ(0,"div",15),p._uU(1,"None"),p.qZA())}function R(e,t){if(1&e&&(p.TgZ(0,"div",3),p.TgZ(1,"h3",4),p._uU(2,"Queue Statistics"),p.qZA(),p.TgZ(3,"div",11),p.TgZ(4,"div",12),p.TgZ(5,"div",13),p.TgZ(6,"div",14),p._uU(7,"Published Messages"),p.qZA(),p.TgZ(8,"div",15),p._uU(9),p.qZA(),p.qZA(),p.TgZ(10,"div",13),p.TgZ(11,"div",14),p._uU(12,"Consumed Messages"),p.qZA(),p.TgZ(13,"div",15),p._uU(14),p.qZA(),p.qZA(),p.TgZ(15,"div",13),p.TgZ(16,"div",14),p._uU(17,"Acknowledge Messages"),p.qZA(),p.TgZ(18,"div",15),p._uU(19),p.qZA(),p.qZA(),p.TgZ(20,"div",13),p.TgZ(21,"div",14),p._uU(22,"Total Timed out Messages"),p.qZA(),p.TgZ(23,"div",15),p._uU(24),p.qZA(),p.qZA(),p.TgZ(25,"div",13),p.TgZ(26,"div",14),p._uU(27,"Total Errors"),p.qZA(),p.TgZ(28,"div",15),p._uU(29),p.qZA(),p.qZA(),p.TgZ(30,"div",13),p.TgZ(31,"div",14),p._uU(32,"Last Publish Date"),p.qZA(),p.YNc(33,z,3,4,"div",16),p.YNc(34,j,2,0,"div",16),p.qZA(),p.TgZ(35,"div",13),p.TgZ(36,"div",14),p._uU(37,"Last Consume Date"),p.qZA(),p.YNc(38,S,3,4,"div",16),p.YNc(39,Y,2,0,"div",16),p.qZA(),p.qZA(),p.qZA(),p.qZA()),2&e){const e=p.oxw();p.xp6(9),p.Oqu(e.queue.stats.totalReceived),p.xp6(5),p.AsE("",e.queue.stats.totalDelivered," consumes, ",e.queue.stats.totalSent," unique msgs "),p.xp6(5),p.lnq("",e.queue.stats.totalAck," ack, ",e.queue.stats.totalNack," nack, ",e.queue.stats.totalUnack," unack"),p.xp6(5),p.Oqu(e.queue.stats.totalTimedout),p.xp6(5),p.Oqu(e.queue.stats.totalErrors),p.xp6(4),p.Q6J("ngIf",e.queue.stats.lastReceived>0),p.xp6(1),p.Q6J("ngIf",0==e.queue.stats.lastReceived),p.xp6(4),p.Q6J("ngIf",e.queue.stats.lastSent>0),p.xp6(1),p.Q6J("ngIf",0==e.queue.stats.lastSent)}}function F(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"div",15),p._uU(1),p.TgZ(2,"a",31),p.NdJ("click",function(){p.CHM(e);const t=p.oxw(2);return t.changeOption("Acknowledge Timeout","ackTimeout",t.queue.info.ackTimeout)}),p._uU(3,"Change"),p.qZA(),p.qZA()}if(2&e){const e=p.oxw(2);p.xp6(1),p.hij(" ",e.queue.info.ackTimeout," ms Timeout ")}}function L(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"div",15),p._uU(1," No Timeout "),p.TgZ(2,"a",31),p.NdJ("click",function(){p.CHM(e);const t=p.oxw(2);return t.changeOption("Acknowledge Timeout","ackTimeout",t.queue.info.ackTimeout)}),p._uU(3,"Change"),p.qZA(),p.qZA()}}function B(e,t){1&e&&(p.TgZ(0,"div",15),p._uU(1,"No Timeout"),p.qZA())}function E(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"div",15),p._uU(1),p.TgZ(2,"a",31),p.NdJ("click",function(){p.CHM(e);const t=p.oxw(2);return t.changeOption("Message Timeout","msgTimeout",t.queue.info.msgTimeout)}),p._uU(3,"Change"),p.qZA(),p.qZA()}if(2&e){const e=p.oxw(2);p.xp6(1),p.hij(" ",e.queue.info.msgTimeout," Milliseconds ")}}function V(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"div",15),p._uU(1," No Delay "),p.TgZ(2,"a",31),p.NdJ("click",function(){p.CHM(e);const t=p.oxw(2);return t.changeOption("Delay Between Messages","delayBetweenMsgs",t.queue.info.delayBetweenMsgs)}),p._uU(3,"Change"),p.qZA(),p.qZA()}}function K(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"div",15),p._uU(1),p.TgZ(2,"a",31),p.NdJ("click",function(){p.CHM(e);const t=p.oxw(2);return t.changeOption("Delay Between Messages","delayBetweenMsgs",t.queue.info.delayBetweenMsgs)}),p._uU(3,"Change"),p.qZA(),p.qZA()}if(2&e){const e=p.oxw(2);p.xp6(1),p.hij(" ",e.queue.info.delayBetweenMsgs," Milliseconds ")}}function W(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"div",15),p._uU(1," No Delay "),p.TgZ(2,"a",31),p.NdJ("click",function(){p.CHM(e);const t=p.oxw(2);return t.changeOption("Put Back Delay","putBackDelay",t.queue.info.putBackDelay)}),p._uU(3,"Change"),p.qZA(),p.qZA()}}function G(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"div",15),p._uU(1),p.TgZ(2,"a",31),p.NdJ("click",function(){p.CHM(e);const t=p.oxw(2);return t.changeOption("Put Back Delay","putBackDelay",t.queue.info.putBackDelay)}),p._uU(3,"Change"),p.qZA(),p.qZA()}if(2&e){const e=p.oxw(2);p.xp6(1),p.hij(" ",e.queue.info.putBackDelay," Milliseconds ")}}function X(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"div"),p.TgZ(1,"div",3),p.TgZ(2,"h3",4),p._uU(3,"Queue Actions"),p.qZA(),p.TgZ(4,"div",5),p.TgZ(5,"div",17),p.TgZ(6,"div",18),p.TgZ(7,"div"),p.TgZ(8,"button",19),p.NdJ("click",function(){return p.CHM(e),p.oxw().push()}),p._uU(9,"Push New Message"),p.qZA(),p.TgZ(10,"p"),p._uU(11,"Creates and pushes a message into the queue"),p.qZA(),p.qZA(),p.TgZ(12,"div"),p.TgZ(13,"button",20),p.NdJ("click",function(){return p.CHM(e),p.oxw().read()}),p._uU(14,"Read First Message"),p.qZA(),p.TgZ(15,"p"),p._uU(16,"Shows the first message information. Message will "),p.TgZ(17,"b"),p._uU(18,"not"),p.qZA(),p._uU(19," be consumed."),p.qZA(),p.qZA(),p.TgZ(20,"div"),p.TgZ(21,"button",21),p.NdJ("click",function(){return p.CHM(e),p.oxw().consume()}),p._uU(22,"Consume First Message"),p.qZA(),p.TgZ(23,"p"),p._uU(24,"Shows the first message information. Message will be "),p.TgZ(25,"b"),p._uU(26,"consumed."),p.qZA(),p.qZA(),p.qZA(),p.TgZ(27,"div"),p.TgZ(28,"button",22),p.NdJ("click",function(){return p.CHM(e),p.oxw().move()}),p._uU(29,"Move Messages"),p.qZA(),p.TgZ(30,"p"),p._uU(31,"Moves all messages to another queue and removes them "),p.TgZ(32,"b"),p._uU(33,"permanently."),p.qZA(),p.qZA(),p.qZA(),p.TgZ(34,"div"),p.TgZ(35,"button",23),p.NdJ("click",function(){return p.CHM(e),p.oxw().clear()}),p._uU(36,"Clear All Messages"),p.qZA(),p.TgZ(37,"p"),p._uU(38,"Clears queue. Deletes all messages "),p.TgZ(39,"b"),p._uU(40,"permanently!"),p.qZA(),p.qZA(),p.qZA(),p.TgZ(41,"div"),p.TgZ(42,"button",24),p.NdJ("click",function(){return p.CHM(e),p.oxw().remove()}),p._uU(43,"Delete Queue"),p.qZA(),p.TgZ(44,"p"),p._uU(45,"Deletes queue and "),p.TgZ(46,"b"),p._uU(47,"all messages"),p.qZA(),p._uU(48," in it "),p.TgZ(49,"b"),p._uU(50,"permanently!"),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.TgZ(51,"div",25),p.TgZ(52,"div"),p.TgZ(53,"em"),p._uU(54,"Current Status"),p.qZA(),p.TgZ(55,"strong"),p._uU(56),p.qZA(),p.qZA(),p.TgZ(57,"div"),p.TgZ(58,"em"),p._uU(59,"New Status"),p.qZA(),p.TgZ(60,"div"),p.TgZ(61,"button",26),p.NdJ("click",function(){return p.CHM(e),p.oxw().setStatus("Paused")}),p._uU(62,"Paused"),p.qZA(),p.qZA(),p.TgZ(63,"div"),p.TgZ(64,"button",27),p.NdJ("click",function(){return p.CHM(e),p.oxw().setStatus("Running")}),p._uU(65,"Running"),p.qZA(),p.qZA(),p.TgZ(66,"div"),p.TgZ(67,"button",28),p.NdJ("click",function(){return p.CHM(e),p.oxw().setStatus("OnlyPush")}),p._uU(68,"Only Push"),p.qZA(),p.qZA(),p.TgZ(69,"div"),p.TgZ(70,"button",29),p.NdJ("click",function(){return p.CHM(e),p.oxw().setStatus("OnlyConsume")}),p._uU(71,"Only Consume"),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.TgZ(72,"div",3),p.TgZ(73,"h3",4),p._uU(74,"Queue Information"),p.qZA(),p.TgZ(75,"div",7),p.TgZ(76,"div",12),p.TgZ(77,"div",13),p.TgZ(78,"div",14),p._uU(79,"Name"),p.qZA(),p.TgZ(80,"div",15),p._uU(81),p.qZA(),p.qZA(),p.TgZ(82,"div",13),p.TgZ(83,"div",14),p._uU(84,"Active Consumers"),p.qZA(),p.TgZ(85,"div",15),p._uU(86),p.qZA(),p.qZA(),p.TgZ(87,"div",13),p.TgZ(88,"div",14),p._uU(89,"Stored Messages"),p.qZA(),p.TgZ(90,"div",15),p._uU(91),p.qZA(),p.qZA(),p._UZ(92,"div",30),p.TgZ(93,"div",13),p.TgZ(94,"div",14),p._uU(95,"Topic"),p.qZA(),p.TgZ(96,"div",15),p._uU(97),p.TgZ(98,"a",31),p.NdJ("click",function(){p.CHM(e);const t=p.oxw();return t.changeOption("Topic","topic",t.queue.info.topic)}),p._uU(99,"Change"),p.qZA(),p.qZA(),p.qZA(),p.TgZ(100,"div",13),p.TgZ(101,"div",14),p._uU(102,"Type"),p.qZA(),p.TgZ(103,"div",15),p._uU(104),p.qZA(),p.qZA(),p.TgZ(105,"div",13),p.TgZ(106,"div",14),p._uU(107,"Manager"),p.qZA(),p.TgZ(108,"div",15),p._uU(109),p.qZA(),p.qZA(),p.TgZ(110,"div",13),p.TgZ(111,"div",14),p._uU(112,"Consumer Limit"),p.qZA(),p.TgZ(113,"div",15),p._uU(114),p.ALo(115,"unlimited"),p.TgZ(116,"a",31),p.NdJ("click",function(){p.CHM(e);const t=p.oxw();return t.changeOption("Consumer Limit","clientLimit",t.queue.options.clientLimit)}),p._uU(117,"Change"),p.qZA(),p.qZA(),p.qZA(),p.TgZ(118,"div",13),p.TgZ(119,"div",14),p._uU(120,"Created Date"),p.qZA(),p.TgZ(121,"div",15),p._uU(122),p.ALo(123,"date"),p.qZA(),p.qZA(),p._UZ(124,"div",30),p.TgZ(125,"div",13),p.TgZ(126,"div",14),p._uU(127,"Acknowledge"),p.qZA(),p.TgZ(128,"div",15),p._uU(129),p.qZA(),p.qZA(),p.TgZ(130,"div",13),p.TgZ(131,"div",14),p._uU(132,"Acknowledge Timeout"),p.qZA(),p.YNc(133,F,4,1,"div",16),p.YNc(134,L,4,0,"div",16),p.qZA(),p.TgZ(135,"div",13),p.TgZ(136,"div",14),p._uU(137,"Commit When"),p.qZA(),p.TgZ(138,"div",15),p._uU(139),p.qZA(),p.qZA(),p._UZ(140,"div",30),p.TgZ(141,"div",13),p.TgZ(142,"div",14),p._uU(143,"Message Timeout"),p.qZA(),p.YNc(144,B,2,0,"div",16),p.YNc(145,E,4,1,"div",16),p.qZA(),p.TgZ(146,"div",13),p.TgZ(147,"div",14),p._uU(148,"Message Limit"),p.qZA(),p.TgZ(149,"div",15),p._uU(150),p.ALo(151,"unlimited"),p.TgZ(152,"a",31),p.NdJ("click",function(){p.CHM(e);const t=p.oxw();return t.changeOption("Message Timeout","msgLimit",t.queue.info.msgLimit)}),p._uU(153,"Change"),p.qZA(),p.qZA(),p.qZA(),p.TgZ(154,"div",13),p.TgZ(155,"div",14),p._uU(156,"Message Size Limit"),p.qZA(),p.TgZ(157,"div",15),p._uU(158),p.ALo(159,"filesize"),p.TgZ(160,"a",31),p.NdJ("click",function(){p.CHM(e);const t=p.oxw();return t.changeOption("Message Size Limit","msgSizeLimit",t.queue.info.msgSizeLimit)}),p._uU(161,"Change"),p.qZA(),p.qZA(),p.qZA(),p._UZ(162,"div",30),p.TgZ(163,"div",13),p.TgZ(164,"div",14),p._uU(165,"Delay Between Messages"),p.qZA(),p.YNc(166,V,4,0,"div",16),p.YNc(167,K,4,1,"div",16),p.qZA(),p.TgZ(168,"div",13),p.TgZ(169,"div",14),p._uU(170,"Put Back Delay"),p.qZA(),p.YNc(171,W,4,0,"div",16),p.YNc(172,G,4,1,"div",16),p.qZA(),p.TgZ(173,"div",13),p.TgZ(174,"div",14),p._uU(175,"Auto Destroy"),p.qZA(),p.TgZ(176,"div",15),p._uU(177),p.TgZ(178,"a",31),p.NdJ("click",function(){p.CHM(e);const t=p.oxw();return t.changeOption("Auto Destroy","autoDestroy",t.queue.info.autoDestroy)}),p._uU(179,"Change"),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA()}if(2&e){const e=p.oxw();let t;p.xp6(56),p.Oqu(e.queue.info.status),p.xp6(25),p.Oqu(e.queue.info.name),p.xp6(5),p.Oqu(e.queue.stats.consumers),p.xp6(5),p.Oqu(e.queue.stats.storedMsgs+e.queue.stats.storedPrioMsgs+e.queue.stats.processingMsgs+e.queue.stats.ackPendingMsgs),p.xp6(6),p.hij(" ",null!==(t=e.queue.info.topic)&&void 0!==t?t:"-"," "),p.xp6(7),p.Oqu(e.queue.info.type),p.xp6(5),p.Oqu(e.queue.info.manager),p.xp6(5),p.hij(" ",p.lcZ(115,22,e.queue.options.clientLimit)," "),p.xp6(8),p.Oqu(p.xi3(123,24,1e3*e.queue.info.createdDate,"yyyy-MM-dd HH:mm:ss")),p.xp6(7),p.hij(" ",e.queue.info.acknowledge," "),p.xp6(4),p.Q6J("ngIf",e.queue.info.ackTimeout>0),p.xp6(1),p.Q6J("ngIf",0==e.queue.info.ackTimeout),p.xp6(5),p.hij(" ",e.queue.options.commitWhen," "),p.xp6(5),p.Q6J("ngIf",0==e.queue.info.msgTimeout),p.xp6(1),p.Q6J("ngIf",e.queue.info.msgTimeout>0),p.xp6(5),p.hij(" ",p.lcZ(151,27,e.queue.info.msgLimit)," "),p.xp6(8),p.hij(" ",p.lcZ(159,29,e.queue.info.msgSizeLimit)," "),p.xp6(8),p.Q6J("ngIf",0==e.queue.info.delayBetweenMsgs),p.xp6(1),p.Q6J("ngIf",e.queue.info.delayBetweenMsgs>0),p.xp6(4),p.Q6J("ngIf",0==e.queue.info.putBackDelay),p.xp6(1),p.Q6J("ngIf",e.queue.info.putBackDelay>0),p.xp6(5),p.hij(" ",e.queue.info.autoDestroy," ")}}let $=(()=>{class e extends u.H{constructor(e,t,n,o,i,s){super(),this.dialog=e,this.activatedRoute=t,this.queueGraphService=n,this.socket=o,this.router=i,this.queueService=s}ngOnInit(){return(0,i.mG)(this,void 0,void 0,function*(){if(this.queueName=this.activatedRoute.snapshot.params.name,null==this.queueName||0===this.queueName.length)return;yield this.load();const e={requestId:(new Date).getTime().toString(),name:this.queue.info.name};this.socket.send(c.S.QueueDetailRequest,e),this.on((0,r.F)(5e3)).subscribe(()=>this.load())})}load(){return(0,i.mG)(this,void 0,void 0,function*(){this.queue=yield this.queueService.get(this.queueName);const e=this.queueGraphService.createLabels(this.queue.graph);this.deliveryChart&&this.deliveryChart.destroy(),this.deliveryChart=new(a())(document.getElementById("queue-delivery-chart"),{type:"line",hover:{mode:"nearest",intersect:!0},data:{labels:e,datasets:[{label:"Produced",borderColor:"#2070e0",data:this.queue.graph.map(e=>e.received),fill:!1,pointRadius:1,pointHitRadius:8,lineTension:.2,borderWidth:2},{label:"Ack",borderColor:"#12bf4a",data:this.queue.graph.map(e=>e.ack),fill:!1,pointRadius:1,pointHitRadius:8,lineTension:.2,borderWidth:2},{label:"Neg. Ack",borderColor:"#c042ef",data:this.queue.graph.map(e=>e.nack),fill:!1,pointRadius:1,pointHitRadius:8,lineTension:.2,borderWidth:2},{label:"Unack",borderColor:"#eec236",data:this.queue.graph.map(e=>e.unack),fill:!1,pointRadius:1,pointHitRadius:8,lineTension:.2,borderWidth:2},{label:"Error",borderColor:"#ff3333",data:this.queue.graph.map(e=>e.error),fill:!1,pointRadius:1,pointHitRadius:8,lineTension:.2,borderWidth:2}]},options:{animation:{duration:0},responsive:!0,scales:{xAxes:[{display:!1}],yAxes:[{display:!0,ticks:{precision:0}}]}}}),this.storeChart&&this.storeChart.destroy(),this.storeChart=new(a())(document.getElementById("queue-store-chart"),{type:"line",hover:{mode:"nearest",intersect:!0},data:{labels:e,datasets:[{label:"Msgs",borderColor:"#2070e0",data:this.queue.graph.map(e=>e.stored),fill:!1,pointRadius:1,pointHitRadius:8,lineTension:.2,borderWidth:2},{label:"High Prio Msgs",borderColor:"#ff9911",data:this.queue.graph.map(e=>e.storedPrio),fill:!1,pointRadius:1,pointHitRadius:8,lineTension:.2,borderWidth:2},{label:"Pending for Ack",borderColor:"#10a0a0",data:this.queue.graph.map(e=>e.pending),fill:!1,pointRadius:1,pointHitRadius:8,lineTension:.2,borderWidth:2},{label:"Timeout",borderColor:"#f02020",data:this.queue.graph.map(e=>e.timeout),fill:!1,pointRadius:1,pointHitRadius:8,lineTension:.2,borderWidth:2}]},options:{animation:{duration:0},responsive:!0,scales:{xAxes:[{display:!1}],yAxes:[{display:!0,ticks:{precision:0}}]}}})})}ngOnDestroy(){super.ngOnDestroy();const e={requestId:(new Date).getTime().toString(),name:null};this.socket.send(c.S.QueueDetailRequest,e)}push(){let e=this.dialog.open(O,{width:"550px"}).componentInstance;e.message.queue=this.queueName,e.onconfirmed.pipe((0,d.q)(1)).subscribe(e=>{e&&this.queueService.push(e).then(e=>{})})}read(){this.queueService.read(this.queueName).then(e=>this.showQueueMessage(e))}consume(){let e=this.dialog.open(g.z,{width:"600px"}).componentInstance;e.message='Your message will be <b class="imp">consumed.</b> You will see the message after you confirmed this. But queue consumers will not receive that message and it will be deleted <b class="imp">permanently.</b>',e.onclosed.pipe((0,d.q)(1)).subscribe(e=>{e&&this.queueService.consume(this.queueName).then(e=>this.showQueueMessage(e))})}showQueueMessage(e){if(null==e)return void alert("There is no message in the queue");let t=this.dialog.open(b,{width:"920px"}).componentInstance;try{e.messageObj=JSON.parse(e.message)}catch(n){}t.message=e}clear(){let e=this.dialog.open(g.z,{width:"600px"}).componentInstance;e.message='All messages in queue will be deleted <b class="imp">permanently.</b>',e.onclosed.pipe((0,d.q)(1)).subscribe(e=>{e&&this.queueService.clear(this.queueName).then(e=>this.load())})}move(){let e=this.dialog.open(h,{width:"600px"}).componentInstance;e.messageCount=321,e.onconfirmed.pipe((0,d.q)(1)).subscribe(e=>{null==e||e.length<1||(e=e.trim(),this.queueService.move(this.queueName,e).then(e=>this.load()))})}remove(){let e=this.dialog.open(g.z,{width:"600px"}).componentInstance;e.message='You are about to delete your queue. The queue and all messages in it will be deleted <b class="imp">permanently.</b>',e.onclosed.pipe((0,d.q)(1)).subscribe(e=>{e&&this.queueService.delete(this.queueName).then(e=>{this.router.navigateByUrl("/queues")})})}setStatus(e){let t=this.dialog.open(g.z,{width:"600px"}).componentInstance;t.message='You are about to change your queue status to <b class="imp">'+e+".</b> That operation might affect your producers and consumers.",t.onclosed.pipe((0,d.q)(1)).subscribe(t=>{t&&this.queueService.status(this.queueName,e).then(e=>this.load())})}changeOption(e,t,n){let o=this.dialog.open(k,{width:"500px"}).componentInstance;o.model.title=e,o.model.property=t,o.model.value=n,o.onconfirmed.pipe((0,d.q)(1)).subscribe(e=>{e.confirmed&&this.queueService.setOption(this.queueName,e.property,e.value).then(()=>this.load())})}}return e.\u0275fac=function(t){return new(t||e)(p.Y36(Z.uw),p.Y36(J.gz),p.Y36(N.J),p.Y36(H.i),p.Y36(J.F0),p.Y36(I.g))},e.\u0275cmp=p.Xpm({type:e,selectors:[["app-queue"]],features:[p.qOj],decls:16,vars:3,consts:[[1,"centered-body",3,"hidden"],[1,"vertical-content"],[1,"vertical-col"],[1,"portlet"],[1,"portlet-title"],[1,"portlet-body",2,"height","330px"],["id","queue-delivery-chart"],[1,"portlet-body"],["id","queue-store-chart"],["class","portlet",4,"ngIf"],[4,"ngIf"],[1,"portlet-body",2,"min-height","377px"],[1,"key-value-table"],[1,"kvt-row"],[1,"kvt-key"],[1,"kvt-value"],["class","kvt-value",4,"ngIf"],[1,"queue-panel"],[1,"operation-panel"],[1,"operation-button","btn-green",3,"click"],[1,"operation-button","btn-yellow",3,"click"],[1,"operation-button","btn-cyan",3,"click"],[1,"operation-button","btn-purple",3,"click"],[1,"operation-button","btn-orange",3,"click"],[1,"operation-button","btn-red",3,"click"],[1,"status-panel"],[1,"status-button","btn-orange",3,"click"],[1,"status-button","btn-green",3,"click"],[1,"status-button","btn-purple",3,"click"],[1,"status-button","btn-cyan",3,"click"],[1,"kvt-row","kvt-seperator"],[1,"change-option",3,"click"]],template:function(e,t){1&e&&(p.TgZ(0,"div",0),p.TgZ(1,"div",1),p.TgZ(2,"div",2),p.TgZ(3,"div",3),p.TgZ(4,"h3",4),p._uU(5,"Queue Delivery"),p.qZA(),p.TgZ(6,"div",5),p._UZ(7,"canvas",6),p.qZA(),p.qZA(),p.TgZ(8,"div",3),p.TgZ(9,"h3",4),p._uU(10,"Queue Messages"),p.qZA(),p.TgZ(11,"div",7),p._UZ(12,"canvas",8),p.qZA(),p.qZA(),p.YNc(13,R,40,12,"div",9),p.qZA(),p.TgZ(14,"div",2),p.YNc(15,X,180,31,"div",10),p.qZA(),p.qZA(),p.qZA()),2&e&&(p.Q6J("hidden",null==t.queue),p.xp6(13),p.Q6J("ngIf",t.queue),p.xp6(2),p.Q6J("ngIf",t.queue))},directives:[o.O5],pipes:[o.uU,Q.O,D.c],styles:[".vertical-col[_ngcontent-%COMP%]   .portlet[_ngcontent-%COMP%]{margin-bottom:18px}.queue-panel[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:stretch;align-content:stretch;justify-items:stretch;justify-content:stretch}.operation-panel[_ngcontent-%COMP%]{flex:1 1 auto;display:flex;flex-direction:row;flex-wrap:wrap;align-content:flex-start;align-items:flex-start;justify-items:flex-start;justify-content:flex-start}.operation-panel[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{flex:1 1 50%}.operation-panel[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 6px 14px 0;padding:0 4px;font-size:13px;line-height:20px;color:#bbb}.operation-panel[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{color:#fff;font-weight:500}.operation-button[_ngcontent-%COMP%]{margin:6px 4px;color:#f0f0f0;border:2px solid;border-radius:2px;padding:10px 14px;font-weight:600;background-color:transparent}.status-panel[_ngcontent-%COMP%]{flex:0 2 150px;flex-basis:150px;min-width:150px;color:#ddd}.status-panel[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:5px 0}.status-panel[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{display:block;font-style:normal;font-size:12px}.status-panel[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;font-weight:500;color:#efdf20;font-size:16px;line-height:26px}.status-button[_ngcontent-%COMP%]{border:2px solid;border-radius:2px;color:#fff;width:145px;box-sizing:border-box;padding:8px 0;font-weight:600;background-color:transparent}.btn-red[_ngcontent-%COMP%]{border-color:#c01010}.btn-orange[_ngcontent-%COMP%]{border-color:#e06000}.btn-green[_ngcontent-%COMP%]{border-color:#109030}.btn-yellow[_ngcontent-%COMP%]{border-color:#b2b200}.btn-purple[_ngcontent-%COMP%]{border-color:#7620af}.btn-cyan[_ngcontent-%COMP%]{border-color:#208585}.btn-red[_ngcontent-%COMP%]:hover{border-color:#ff3030}.btn-orange[_ngcontent-%COMP%]:hover{border-color:#fa0}.btn-green[_ngcontent-%COMP%]:hover{border-color:#10f070}.btn-purple[_ngcontent-%COMP%]:hover{border-color:#9010e0}.btn-cyan[_ngcontent-%COMP%]:hover{border-color:#30c0c0}.btn-yellow[_ngcontent-%COMP%]:hover{border-color:#fafa20}.change-option[_ngcontent-%COMP%]{font-size:12px;font-weight:500;color:#109030;text-decoration:none;cursor:pointer;padding:2px;margin-left:10px}.change-option[_ngcontent-%COMP%]:hover{color:#10f070}"]}),e})();var ee=n(91887);let te=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=p.oAB({type:e}),e.\u0275inj=p.cJS({imports:[[o.ez,ee.D,Z.Is,m.u5,J.Bz.forChild([{path:":name",component:$}])]]}),e})()}}]);