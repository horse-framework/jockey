import{a as L}from"./chunk-NIIXPKXM.js";import{b as j,c as k,d as F,e as W,f as D,g as E,n as U}from"./chunk-NJ67TIRQ.js";import{a as N}from"./chunk-IARL6YQG.js";import{Bb as O,Ga as r,Ha as s,Hb as P,M as h,N as M,Pa as _,Pb as I,Q as g,Xa as l,ab as f,bb as u,cb as C,ia as d,l as w,ra as c,ua as x,va as y,xb as v,ya as S}from"./chunk-I3ZBIMQN.js";var m=class t{#o=g(O);#e=g(L);login(a,o){let n={username:a,password:o};return this.#o.post("/user/login",n,{observe:"response"}).pipe(w(e=>(e.ok&&(this.#e.setState(e.body),localStorage.setItem("token",JSON.stringify(e.body))),this.#e.state())))}static \u0275fac=function(o){return new(o||t)};static \u0275prov=h({token:t,factory:t.\u0275fac,providedIn:"root"})};var p=class t extends N{constructor(o,n){super();this.loginService=o;this.router=n}username="";password="";message="";ngOnInit(){}submit(){this.loginService.login(this.username,this.password).subscribe(o=>{o!=null?this.router.navigateByUrl("/dashboard"):this.message="Invalid username or password"})}static \u0275fac=function(n){return new(n||t)(c(m),c(P))};static \u0275cmp=x({type:t,selectors:[["app-login"]],standalone:!1,features:[S],decls:13,vars:2,consts:[[1,"login-form"],[1,"login-row"],["for","username"],["type","text","name","username","id","username","autocomplete","off",3,"ngModelChange","ngModel"],["for","password"],["id","password","type","password","name","password","autocomplete","off",3,"ngModelChange","ngModel"],[3,"click"]],template:function(n,e){n&1&&(r(0,"form")(1,"div",0)(2,"div",1)(3,"label",2),l(4,"Username"),s(),r(5,"input",3),C("ngModelChange",function(i){return u(e.username,i)||(e.username=i),i}),s()(),r(6,"div",1)(7,"label",4),l(8,"Password"),s(),r(9,"input",5),C("ngModelChange",function(i){return u(e.password,i)||(e.password=i),i}),s()(),r(10,"div",1)(11,"button",6),_("click",function(){return e.submit()}),l(12,"Login"),s()()()()),n&2&&(d(5),f("ngModel",e.username),d(4),f("ngModel",e.password))},dependencies:[E,j,k,F,D,W],styles:[".login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.login-row[_ngcontent-%COMP%]{flex:1 1 auto;display:flex;flex-direction:column;text-align:center;align-items:stretch;align-content:stretch;justify-content:flex-start;justify-items:flex-start;box-sizing:border-box;margin:8px 0}.login-row[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{flex:0 0 auto;text-align:left;font-size:13px;font-weight:400;color:#888;margin:0;padding:4px}.login-row[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1 1 auto;border:1px solid #666;border-radius:2px;padding:8px;line-height:22px;font-size:16px;font-weight:400;color:#ddd;background-color:#222}.login-row[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#109040}.login-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;border-radius:2px;background-color:#048cca;color:#fff;font-size:14px;font-weight:500;margin:8px 70px;height:42px}.login-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#04acfa}"]})};var B=class t{static \u0275fac=function(o){return new(o||t)};static \u0275mod=y({type:t});static \u0275inj=M({imports:[v,U,I.forChild([{path:"",component:p}])]})};export{B as LoginModule};
