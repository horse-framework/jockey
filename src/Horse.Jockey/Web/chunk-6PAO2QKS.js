import{a as D}from"./chunk-U2DSLRRK.js";import{Aa as _,Bb as N,Ea as C,Fa as p,Ga as i,Ha as o,Ia as I,Ja as h,Ka as P,M as S,Ma as b,N as w,Pa as f,Pb as j,Q as O,Qa as r,Ra as T,Sa as F,Ta as R,U as u,V as g,Xa as l,Ya as v,Za as E,ia as s,ra as M,ua as k,ub as A,va as V,vb as H,xb as $}from"./chunk-I3ZBIMQN.js";var x=class n{#e=O(N);list(){return this.#e.get("/plugin/list",{observe:"response"})}load(t){let e=new FormData;return e.append("file",t,t.name),this.#e.post("/plugin/load",e,{observe:"response"})}enable(t,e){return this.#e.put("/plugin/enable",{name:t,version:e},{observe:"response"})}disable(t,e){return this.#e.put("/plugin/disable",{name:t,version:e},{observe:"response"})}remove(t,e){return this.#e.put("/plugin/remove",{name:t,version:e},{observe:"response"})}static \u0275fac=function(e){return new(e||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})};var L=["fileUpload"];function z(n,t){if(n&1&&(h(0),i(1,"span"),l(2),i(3,"em"),l(4),o()(),i(5,"em"),l(6),o(),P()),n&2){let e=r(2).$implicit;s(2),E("",e.fullname," "),s(2),E("(",e.version,")"),s(2),v(e.location)}}function B(n,t){if(n&1){let e=b();i(0,"button",25),f("click",function(){u(e);let c=r().$implicit,d=r().$implicit,m=r(2);return g(m.remove(d,c))}),l(1,"Remove"),o()}if(n&2){let e=r(4);C("disabled",e.processing?"disabled":null)}}function G(n,t){if(n&1){let e=b();i(0,"button",26),f("click",function(){u(e);let c=r().$implicit,d=r().$implicit,m=r(2);return g(m.disable(d,c))}),l(1,"Disable"),o()}if(n&2){let e=r(4);C("disabled",e.processing?"disabled":null)}}function J(n,t){if(n&1){let e=b();i(0,"button",27),f("click",function(){u(e);let c=r().$implicit,d=r().$implicit,m=r(2);return g(m.enable(d,c))}),l(1,"Enable"),o()}if(n&2){let e=r(4);C("disabled",e.processing?"disabled":null)}}function K(n,t){if(n&1&&(h(0),I(1,"div",14),i(2,"div",15),I(3,"div",16),i(4,"div",17),_(5,z,7,3,"ng-container",18),o(),i(6,"div",19)(7,"span"),l(8),o(),i(9,"em"),l(10),o()(),i(11,"div",20)(12,"span"),l(13),o()(),i(14,"div",20)(15,"span"),l(16),o()(),i(17,"div",21),_(18,B,2,1,"button",22)(19,G,2,1,"button",23)(20,J,2,1,"button",24),o()(),P()),n&2){let e=t.$implicit,a=t.index;s(5),p("ngIf",a==0),s(3),v(e.name),s(2),v(e.builder),s(3),v(e.disabled?"Disabled":"Enabled"),s(3),v(e.removed?"Removed":"No"),s(2),p("ngIf",!e.removed),s(),p("ngIf",!e.disabled),s(),p("ngIf",e.disabled||e.removed)}}function W(n,t){if(n&1&&(h(0),_(1,K,21,8,"ng-container",13),P()),n&2){let e=t.$implicit;s(),p("ngForOf",e.plugins)}}function X(n,t){if(n&1){let e=b();i(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"a",7),f("click",function(){u(e);let c=r();return g(c.load())}),o()(),i(5,"div",8),l(6,"Assembly"),o(),i(7,"div",9),l(8,"Plugin"),o(),i(9,"div",10),l(10,"Enabled"),o(),i(11,"div",10),l(12,"Removed"),o(),i(13,"div",11),l(14,"Action"),o()(),i(15,"div",12),_(16,W,2,1,"ng-container",13),o()()()}if(n&2){let e=r();s(4),C("disabled",e.processing?"disabled":null),s(12),p("ngForOf",e.model)}}var y=class n{constructor(t){this.service=t}model=[];processing=!1;fileUpload;ngOnInit(){this.list()}list(){this.processing=!0,this.service.list().subscribe(t=>{this.model=t.body,this.processing=!1})}load(){this.fileUpload.nativeElement.click()}onFileChanged(t){if(t.target==null||t.target.files==null||t.target.files.length==0)return;let e=t.target.files[0];this.processing=!0,this.service.load(e).subscribe(a=>{this.processing=!1,this.list()})}enable(t,e){this.processing=!0,this.service.enable(e.name,t.version).subscribe(a=>{this.processing=!1,this.list()})}disable(t,e){this.processing=!0,this.service.disable(e.name,t.version).subscribe(a=>{this.processing=!1,this.list()})}remove(t,e){this.processing=!0,this.service.remove(e.name,t.version).subscribe(a=>{this.processing=!1,this.list()})}static \u0275fac=function(e){return new(e||n)(M(x))};static \u0275cmp=k({type:n,selectors:[["app-plugins"]],viewQuery:function(e,a){if(e&1&&T(L,5),e&2){let c;F(c=R())&&(a.fileUpload=c.first)}},standalone:!1,decls:3,vars:1,consts:[["fileUpload",""],["class","plugins",4,"ngIf"],["type","file",2,"display","none",3,"change"],[1,"plugins"],[1,"table"],[1,"thead"],[1,"th","fx40px"],["title","Upload New Assembly",1,"fa","fa-solid","fa-plus","hreverse",3,"click"],[1,"th","fx40"],[1,"th","fx24"],[1,"th","fx10"],[1,"th","fx14"],[1,"tbody"],[4,"ngFor","ngForOf"],[2,"height","1px","background-color","#666"],[1,"trow"],[1,"td","fx40px"],[1,"td","fx40"],[4,"ngIf"],[1,"td","fx24"],[1,"td","fx10"],[1,"td","fx14","tright"],["class","plugin-button red",3,"click",4,"ngIf"],["class","plugin-button orange",3,"click",4,"ngIf"],["class","plugin-button green",3,"click",4,"ngIf"],[1,"plugin-button","red",3,"click"],[1,"plugin-button","orange",3,"click"],[1,"plugin-button","green",3,"click"]],template:function(e,a){if(e&1){let c=b();_(0,X,17,2,"div",1),i(1,"input",2,0),f("change",function(m){return u(c),g(a.onFileChanged(m))}),o()}e&2&&p("ngIf",a.model)},dependencies:[A,H],styles:[".plugins[_ngcontent-%COMP%]{margin:auto;padding:0 60px;text-align:center}.plugins[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]{width:100%;text-align:left}.plugin-button[_ngcontent-%COMP%]{border:2px solid transparent;border-radius:2px;color:#f0f0f0;padding:6px 10px;min-width:90px;max-height:36px;margin:4px 0 0 14px;background-color:transparent}.plugin-button.red[_ngcontent-%COMP%]{border-color:#c02020}.plugin-button.red[_ngcontent-%COMP%]:hover{border-color:#f02020}.plugin-button.blue[_ngcontent-%COMP%]{border-color:#1050a0}.plugin-button.blue[_ngcontent-%COMP%]:hover{border-color:#1070c0}.plugin-button.green[_ngcontent-%COMP%]{border-color:#10a050}.plugin-button.green[_ngcontent-%COMP%]:hover{border-color:#10c070}.plugin-button.orange[_ngcontent-%COMP%]{border-color:#f60}.plugin-button.orange[_ngcontent-%COMP%]:hover{border-color:#fa2}.plugin-button[disabled=disabled][_ngcontent-%COMP%]{border-color:#888!important}"]})};var Q=class n{static \u0275fac=function(e){return new(e||n)};static \u0275mod=V({type:n});static \u0275inj=w({providers:[x],imports:[$,D,j.forChild([{path:"",component:y}])]})};export{Q as PluginsModule};
