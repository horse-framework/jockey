!function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var i=0;i<t.length;i++){var u=t[i];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(e,u.key,u)}}function i(e,t,u){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var u=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r(e)););return e}(e,t);if(u){var n=Object.getOwnPropertyDescriptor(u,t);return n.get?n.get.call(i):n.value}})(e,t,u||e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function n(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var i,u=r(e);if(t){var n=r(this).constructor;i=Reflect.construct(u,arguments,n)}else i=u.apply(this,arguments);return o(this,i)}}function o(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}(self.webpackChunkweb=self.webpackChunkweb||[]).push([[555],{41555:function(o,s,a){a.r(s),a.d(s,{QueueModule:function(){return H}});var d=a(38583),c=a(64762),l=a(6823),Z=a.n(l),g=a(43057),q=a(52962),v=a(68823),p=a(33018),f=a(44139),T=a(59049),A=a(65608),h=a(2625),m=a(68392),y=a(33369);function _(e,t){if(1&e&&(p.TgZ(0,"div",13),p._uU(1),p.ALo(2,"date"),p.qZA()),2&e){var i=p.oxw(2);p.xp6(1),p.Oqu(p.xi3(2,1,1e3*i.queue.stats.lastReceived,"yyyy-MM-dd HH:mm:ss"))}}function b(e,t){1&e&&(p.TgZ(0,"div",13),p._uU(1,"None"),p.qZA())}function U(e,t){if(1&e&&(p.TgZ(0,"div",13),p._uU(1),p.ALo(2,"date"),p.qZA()),2&e){var i=p.oxw(2);p.xp6(1),p.Oqu(p.xi3(2,1,1e3*i.queue.stats.lastSent,"yyyy-MM-dd HH:mm:ss"))}}function x(e,t){1&e&&(p.TgZ(0,"div",13),p._uU(1,"None"),p.qZA())}function k(e,t){if(1&e&&(p.TgZ(0,"div",3),p.TgZ(1,"h3",4),p._uU(2,"Queue Statistics"),p.qZA(),p.TgZ(3,"div",5),p.TgZ(4,"div",10),p.TgZ(5,"div",11),p.TgZ(6,"div",12),p._uU(7,"Published Messages"),p.qZA(),p.TgZ(8,"div",13),p._uU(9),p.qZA(),p.qZA(),p.TgZ(10,"div",11),p.TgZ(11,"div",12),p._uU(12,"Consumed Messages"),p.qZA(),p.TgZ(13,"div",13),p._uU(14),p.qZA(),p.qZA(),p.TgZ(15,"div",11),p.TgZ(16,"div",12),p._uU(17,"Acknowledge Messages"),p.qZA(),p.TgZ(18,"div",13),p._uU(19),p.qZA(),p.qZA(),p.TgZ(20,"div",11),p.TgZ(21,"div",12),p._uU(22,"Total Timed out Messages"),p.qZA(),p.TgZ(23,"div",13),p._uU(24),p.qZA(),p.qZA(),p.TgZ(25,"div",11),p.TgZ(26,"div",12),p._uU(27,"Total Errors"),p.qZA(),p.TgZ(28,"div",13),p._uU(29),p.qZA(),p.qZA(),p.TgZ(30,"div",11),p.TgZ(31,"div",12),p._uU(32,"Last Publish Date"),p.qZA(),p.YNc(33,_,3,4,"div",14),p.YNc(34,b,2,0,"div",14),p.qZA(),p.TgZ(35,"div",11),p.TgZ(36,"div",12),p._uU(37,"Last Consume Date"),p.qZA(),p.YNc(38,U,3,4,"div",14),p.YNc(39,x,2,0,"div",14),p.qZA(),p.qZA(),p.qZA(),p.qZA()),2&e){var i=p.oxw();p.xp6(9),p.Oqu(i.queue.stats.totalReceived),p.xp6(5),p.AsE("",i.queue.stats.totalDelivered," consumes, ",i.queue.stats.totalSent," unique msgs"),p.xp6(5),p.lnq("",i.queue.stats.totalAck," ack, ",i.queue.stats.totalNack," nack, ",i.queue.stats.totalUnack," unack"),p.xp6(5),p.Oqu(i.queue.stats.totalTimedout),p.xp6(5),p.Oqu(i.queue.stats.totalErrors),p.xp6(4),p.Q6J("ngIf",i.queue.stats.lastReceived>0),p.xp6(1),p.Q6J("ngIf",0==i.queue.stats.lastReceived),p.xp6(4),p.Q6J("ngIf",i.queue.stats.lastSent>0),p.xp6(1),p.Q6J("ngIf",0==i.queue.stats.lastSent)}}function w(e,t){if(1&e&&(p.TgZ(0,"div",13),p._uU(1),p.qZA()),2&e){var i=p.oxw(2);p.xp6(1),p.hij("",i.queue.info.ackTimeout," ms timeout")}}function R(e,t){1&e&&(p.TgZ(0,"div",13),p._uU(1,"No timeout"),p.qZA())}function O(e,t){1&e&&(p.TgZ(0,"div",13),p._uU(1,"No Timeout"),p.qZA())}function M(e,t){if(1&e&&(p.TgZ(0,"div",13),p._uU(1),p.qZA()),2&e){var i=p.oxw(2);p.xp6(1),p.hij(" ",i.queue.info.msgTimeout," milliseconds ")}}function N(e,t){1&e&&(p.TgZ(0,"div",13),p._uU(1,"No Delay"),p.qZA())}function D(e,t){if(1&e&&(p.TgZ(0,"div",13),p._uU(1),p.qZA()),2&e){var i=p.oxw(2);p.xp6(1),p.hij(" ",i.queue.info.delayBetweenMessages," milliseconds ")}}function C(e,t){1&e&&(p.TgZ(0,"div",13),p._uU(1,"No Delay"),p.qZA())}function I(e,t){if(1&e&&(p.TgZ(0,"div",13),p._uU(1),p.qZA()),2&e){var i=p.oxw(2);p.xp6(1),p.hij(" ",i.queue.info.putBackDelay," milliseconds ")}}function Q(e,t){if(1&e&&(p.TgZ(0,"div"),p.TgZ(1,"div",3),p.TgZ(2,"h3",4),p._uU(3,"Queue Actions"),p.qZA(),p.TgZ(4,"div",15),p.TgZ(5,"div"),p.TgZ(6,"p",16),p.TgZ(7,"b"),p._uU(8,"Under construction"),p.qZA(),p._UZ(9,"br"),p._uU(10," Move messages to another queue, Clear messages, Export messages,"),p._UZ(11,"br"),p._uU(12," Remove all subscribers, Pause/Stop/Resume the queue operations, Delete queue,"),p._UZ(13,"br"),p._uU(14," Push new message into the queue, Change some queue options. "),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.TgZ(15,"div",3),p.TgZ(16,"h3",4),p._uU(17,"Queue Information"),p.qZA(),p.TgZ(18,"div",5),p.TgZ(19,"div",10),p.TgZ(20,"div",11),p.TgZ(21,"div",12),p._uU(22,"Name"),p.qZA(),p.TgZ(23,"div",13),p._uU(24),p.qZA(),p.qZA(),p.TgZ(25,"div",11),p.TgZ(26,"div",12),p._uU(27,"Active Consumers"),p.qZA(),p.TgZ(28,"div",13),p._uU(29),p.qZA(),p.qZA(),p.TgZ(30,"div",11),p.TgZ(31,"div",12),p._uU(32,"Stored Messages"),p.qZA(),p.TgZ(33,"div",13),p._uU(34),p.qZA(),p.qZA(),p._UZ(35,"div",17),p.TgZ(36,"div",11),p.TgZ(37,"div",12),p._uU(38,"Topic"),p.qZA(),p.TgZ(39,"div",13),p._uU(40),p.qZA(),p.qZA(),p.TgZ(41,"div",11),p.TgZ(42,"div",12),p._uU(43,"Type"),p.qZA(),p.TgZ(44,"div",13),p._uU(45),p.qZA(),p.qZA(),p.TgZ(46,"div",11),p.TgZ(47,"div",12),p._uU(48,"Manager"),p.qZA(),p.TgZ(49,"div",13),p._uU(50),p.qZA(),p.qZA(),p.TgZ(51,"div",11),p.TgZ(52,"div",12),p._uU(53,"Subscribers Limit"),p.qZA(),p.TgZ(54,"div",13),p._uU(55),p.ALo(56,"unlimited"),p.qZA(),p.qZA(),p.TgZ(57,"div",11),p.TgZ(58,"div",12),p._uU(59,"Created Date"),p.qZA(),p.TgZ(60,"div",13),p._uU(61),p.ALo(62,"date"),p.qZA(),p.qZA(),p._UZ(63,"div",17),p.TgZ(64,"div",11),p.TgZ(65,"div",12),p._uU(66,"Acknowledge"),p.qZA(),p.TgZ(67,"div",13),p._uU(68),p.qZA(),p.qZA(),p.TgZ(69,"div",11),p.TgZ(70,"div",12),p._uU(71,"Acknowledge Timeout"),p.qZA(),p.YNc(72,w,2,1,"div",14),p.YNc(73,R,2,0,"div",14),p.qZA(),p._UZ(74,"div",17),p.TgZ(75,"div",11),p.TgZ(76,"div",12),p._uU(77,"Message Timeout"),p.qZA(),p.YNc(78,O,2,0,"div",14),p.YNc(79,M,2,1,"div",14),p.qZA(),p.TgZ(80,"div",11),p.TgZ(81,"div",12),p._uU(82,"Message Limit"),p.qZA(),p.TgZ(83,"div",13),p._uU(84),p.ALo(85,"unlimited"),p.qZA(),p.qZA(),p.TgZ(86,"div",11),p.TgZ(87,"div",12),p._uU(88,"Message Size Limit"),p.qZA(),p.TgZ(89,"div",13),p._uU(90),p.ALo(91,"filesize"),p.qZA(),p.qZA(),p._UZ(92,"div",17),p.TgZ(93,"div",11),p.TgZ(94,"div",12),p._uU(95,"Delay Between Messages"),p.qZA(),p.YNc(96,N,2,0,"div",14),p.YNc(97,D,2,1,"div",14),p.qZA(),p.TgZ(98,"div",11),p.TgZ(99,"div",12),p._uU(100,"Put Back Delay"),p.qZA(),p.YNc(101,C,2,0,"div",14),p.YNc(102,I,2,1,"div",14),p.qZA(),p.TgZ(103,"div",11),p.TgZ(104,"div",12),p._uU(105,"Auto Destroy"),p.qZA(),p.TgZ(106,"div",13),p._uU(107),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA()),2&e){var i,u=p.oxw();p.xp6(24),p.Oqu(u.queue.info.name),p.xp6(5),p.Oqu(u.queue.stats.consumers),p.xp6(5),p.Oqu(u.queue.stats.storedMsgs+u.queue.stats.storedPrioMsgs+u.queue.stats.processingMsgs+u.queue.stats.ackPendingMsgs),p.xp6(6),p.Oqu(null!==(i=u.queue.info.topic)&&void 0!==i?i:"-"),p.xp6(5),p.Oqu(u.queue.info.type),p.xp6(5),p.Oqu(u.queue.info.manager),p.xp6(5),p.Oqu(p.lcZ(56,20,u.queue.options.clientLimit)),p.xp6(6),p.Oqu(p.xi3(62,22,1e3*u.queue.info.createdDate,"yyyy-MM-dd HH:mm:ss")),p.xp6(7),p.hij(" ",u.queue.info.acknowledge," "),p.xp6(4),p.Q6J("ngIf",u.queue.info.ackTimeout>0),p.xp6(1),p.Q6J("ngIf",0==u.queue.info.ackTimeout),p.xp6(5),p.Q6J("ngIf",0==u.queue.info.msgTimeout),p.xp6(1),p.Q6J("ngIf",u.queue.info.msgTimeout>0),p.xp6(5),p.hij(" ",p.lcZ(85,25,u.queue.info.messageLimit)," "),p.xp6(6),p.hij(" ",p.lcZ(91,27,u.queue.info.messageSizeLimit)," "),p.xp6(6),p.Q6J("ngIf",0==u.queue.info.delayBetweenMessages),p.xp6(1),p.Q6J("ngIf",u.queue.info.delayBetweenMessages>0),p.xp6(4),p.Q6J("ngIf",0==u.queue.info.putBackDelay),p.xp6(1),p.Q6J("ngIf",u.queue.info.putBackDelay>0),p.xp6(5),p.Oqu(u.queue.info.autoDestroy)}}var P,S=((P=function(o){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(q,o);var s,a,d,l=n(q);function q(t,i,u,n){var o;return e(this,q),(o=l.call(this)).activatedRoute=t,o.queueGraphService=i,o.socket=u,o.queueService=n,o}return s=q,(a=[{key:"ngOnInit",value:function(){return(0,c.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,i=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.queueName=this.activatedRoute.snapshot.params.name,null!=this.queueName&&0!==this.queueName.length){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.load();case 4:t={requestId:(new Date).getTime().toString(),name:this.queue.info.name},this.socket.send(v.S.QueueDetailRequest,t),this.on((0,g.F)(5e3)).subscribe(function(){return i.load()});case 6:case"end":return e.stop()}},e,this)}))}},{key:"load",value:function(){return(0,c.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.queueService.get(this.queueName);case 2:this.queue=e.sent,t=this.queueGraphService.createLabels(this.queue.graph),this.deliveryChart=new(Z())(document.getElementById("queue-delivery-chart"),{type:"line",hover:{mode:"nearest",intersect:!0},data:{labels:t,datasets:[{label:"Produced",borderColor:"#444",data:this.queue.graph.map(function(e){return e.received}),fill:!1,pointRadius:1,pointHitRadius:8,lineTension:.2,borderWidth:2},{label:"Delivered",borderColor:"#1070af",data:this.queue.graph.map(function(e){return e.delivery}),fill:!1,pointRadius:1,pointHitRadius:8,lineTension:.2,borderWidth:2},{label:"Ack",borderColor:"#10b02a",data:this.queue.graph.map(function(e){return e.ack}),fill:!1,pointRadius:1,pointHitRadius:8,lineTension:.2,borderWidth:2},{label:"Neg. Ack",borderColor:"#a020c0",data:this.queue.graph.map(function(e){return e.nack}),fill:!1,pointRadius:1,pointHitRadius:8,lineTension:.2,borderWidth:2},{label:"Unack",borderColor:"#999",data:this.queue.graph.map(function(e){return e.unack}),fill:!1,pointRadius:1,pointHitRadius:8,lineTension:.2,borderWidth:2},{label:"Error",borderColor:"#ff0000",data:this.queue.graph.map(function(e){return e.error}),fill:!1,pointRadius:1,pointHitRadius:8,lineTension:.2,borderWidth:2}]},options:{animation:{duration:0},responsive:!0,scales:{xAxes:[{display:!1}],yAxes:[{display:!0,ticks:{precision:0}}]}}}),this.storeChart=new(Z())(document.getElementById("queue-store-chart"),{type:"line",hover:{mode:"nearest",intersect:!0},data:{labels:t,datasets:[{label:"Msgs",borderColor:"#104090",data:this.queue.graph.map(function(e){return e.stored}),fill:!1,pointRadius:1,pointHitRadius:8,lineTension:.2,borderWidth:2},{label:"High Prio Msgs",borderColor:"#f07000",data:this.queue.graph.map(function(e){return e.storedPrio}),fill:!1,pointRadius:1,pointHitRadius:8,lineTension:.2,borderWidth:2},{label:"Pending for Ack",borderColor:"#aa2080",data:this.queue.graph.map(function(e){return e.pending}),fill:!1,pointRadius:1,pointHitRadius:8,lineTension:.2,borderWidth:2},{label:"Timeout",borderColor:"#cc3333",data:this.queue.graph.map(function(e){return e.timeout}),fill:!1,pointRadius:1,pointHitRadius:8,lineTension:.2,borderWidth:2}]},options:{animation:{duration:0},responsive:!0,scales:{xAxes:[{display:!1}],yAxes:[{display:!0,ticks:{precision:0}}]}}});case 5:case"end":return e.stop()}},e,this)}))}},{key:"ngOnDestroy",value:function(){i(r(q.prototype),"ngOnDestroy",this).call(this);var e={requestId:(new Date).getTime().toString(),name:null};this.socket.send(v.S.QueueDetailRequest,e)}}])&&t(s.prototype,a),d&&t(s,d),q}(q.H)).\u0275fac=function(e){return new(e||P)(p.Y36(f.gz),p.Y36(T.J),p.Y36(A.i),p.Y36(h.g))},P.\u0275cmp=p.Xpm({type:P,selectors:[["app-queue"]],features:[p.qOj],decls:16,vars:3,consts:[[1,"centered-body",3,"hidden"],[1,"vertical-content"],[1,"vertical-col"],[1,"portlet"],[1,"portlet-title"],[1,"portlet-body"],["id","queue-delivery-chart"],["id","queue-store-chart"],["class","portlet",4,"ngIf"],[4,"ngIf"],[1,"key-value-table"],[1,"kvt-row"],[1,"kvt-key"],[1,"kvt-value"],["class","kvt-value",4,"ngIf"],[1,"portlet-body",2,"height","240px"],[1,"small-desc"],[1,"kvt-row","kvt-seperator"]],template:function(e,t){1&e&&(p.TgZ(0,"div",0),p.TgZ(1,"div",1),p.TgZ(2,"div",2),p.TgZ(3,"div",3),p.TgZ(4,"h3",4),p._uU(5,"Queue Delivery"),p.qZA(),p.TgZ(6,"div",5),p._UZ(7,"canvas",6),p.qZA(),p.qZA(),p.TgZ(8,"div",3),p.TgZ(9,"h3",4),p._uU(10,"Queue Messages"),p.qZA(),p.TgZ(11,"div",5),p._UZ(12,"canvas",7),p.qZA(),p.qZA(),p.YNc(13,k,40,12,"div",8),p.qZA(),p.TgZ(14,"div",2),p.YNc(15,Q,108,29,"div",9),p.qZA(),p.qZA(),p.qZA()),2&e&&(p.Q6J("hidden",null==t.queue),p.xp6(13),p.Q6J("ngIf",t.queue),p.xp6(2),p.Q6J("ngIf",t.queue))},directives:[d.O5],pipes:[d.uU,m.O,y.c],styles:[".vertical-col[_ngcontent-%COMP%]   .portlet[_ngcontent-%COMP%]{margin-bottom:18px}"]}),P),j=a(91887),H=function(){var t=function t(){e(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=p.oAB({type:t}),t.\u0275inj=p.cJS({imports:[[d.ez,j.D,f.Bz.forChild([{path:":name",component:S}])]]}),t}()}}])}();