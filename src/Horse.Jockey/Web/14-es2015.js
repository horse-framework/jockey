(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{TDBs:function(e,i,t){"use strict";t.r(i),t.d(i,"DashboardModule",(function(){return w}));var a=t("ofXK"),d=t("mrSG"),s=t("MO+k"),o=t.n(s),b=t("HIds"),r=t("l5mm"),n=t("T0KO"),c=t("fXoL"),l=t("s4Wa"),u=t("gReq"),v=t("s1Za"),h=t("b1cu"),p=t("MMFR");function P(e,i){if(1&e&&(c.Qb(0,"div",4),c.Qb(1,"div",10),c.Qb(2,"div",11),c.Qb(3,"div",12),c.qc(4,"Stored Queue Messages"),c.Pb(),c.Qb(5,"div",13),c.qc(6),c.Pb(),c.Pb(),c.Qb(7,"div",11),c.Qb(8,"div",12),c.qc(9,"Published Queue Messages"),c.Pb(),c.Qb(10,"div",13),c.qc(11),c.Pb(),c.Pb(),c.Qb(12,"div",11),c.Qb(13,"div",12),c.qc(14,"Consumed Queue Messages"),c.Pb(),c.Qb(15,"div",13),c.qc(16),c.Pb(),c.Pb(),c.Qb(17,"div",11),c.Qb(18,"div",12),c.qc(19,"Sent Direct Messages"),c.Pb(),c.Qb(20,"div",13),c.qc(21),c.Pb(),c.Pb(),c.Qb(22,"div",11),c.Qb(23,"div",12),c.qc(24,"Delivered Direct Messages"),c.Pb(),c.Qb(25,"div",13),c.qc(26),c.Pb(),c.Pb(),c.Qb(27,"div",11),c.Qb(28,"div",12),c.qc(29,"Direct Responses"),c.Pb(),c.Qb(30,"div",13),c.qc(31),c.Pb(),c.Pb(),c.Qb(32,"div",11),c.Qb(33,"div",12),c.qc(34,"Published Router Messages"),c.Pb(),c.Qb(35,"div",13),c.qc(36),c.Pb(),c.Pb(),c.Qb(37,"div",11),c.Qb(38,"div",12),c.qc(39,"Delivered Router Messages"),c.Pb(),c.Qb(40,"div",13),c.qc(41),c.Pb(),c.Pb(),c.Pb(),c.Pb()),2&e){const e=c.ac(2);c.Ab(6),c.rc(e.dashboard.queueMessages.stored+e.dashboard.queueMessages.storedPrio),c.Ab(5),c.rc(e.dashboard.queueMessages.received),c.Ab(5),c.rc(e.dashboard.queueMessages.delivery),c.Ab(5),c.rc(e.dashboard.otherMessages.directMessage),c.Ab(5),c.rc(e.dashboard.otherMessages.directDelivery),c.Ab(5),c.rc(e.dashboard.otherMessages.directResponse),c.Ab(5),c.rc(e.dashboard.otherMessages.routerPublish),c.Ab(5),c.rc(e.dashboard.otherMessages.routerOk)}}function Q(e,i){if(1&e&&(c.Qb(0,"div",1),c.Qb(1,"div",2),c.Qb(2,"h3",3),c.qc(3,"Message Statistics"),c.Pb(),c.oc(4,P,42,8,"div",9),c.Pb(),c.Pb()),2&e){const e=c.ac();c.Ab(4),c.ec("ngIf",e.dashboard)}}function g(e,i){if(1&e&&(c.Qb(0,"span"),c.qc(1),c.Pb()),2&e){const e=i.$implicit;c.Ab(1),c.rc(e)}}function m(e,i){if(1&e&&(c.Qb(0,"div",1),c.Qb(1,"div",2),c.Qb(2,"h3",3),c.qc(3,"Server Information"),c.Pb(),c.Qb(4,"div",4),c.Qb(5,"div",10),c.Qb(6,"div",11),c.Qb(7,"div",12),c.qc(8,"Service Lifetime"),c.Pb(),c.Qb(9,"div",13),c.qc(10),c.Pb(),c.Pb(),c.Qb(11,"div",11),c.Qb(12,"div",12),c.qc(13,"Hostname"),c.Pb(),c.Qb(14,"div",13),c.oc(15,g,2,1,"span",14),c.Pb(),c.Pb(),c.Qb(16,"div",11),c.Qb(17,"div",12),c.qc(18,"Online Clients"),c.Pb(),c.Qb(19,"div",13),c.qc(20),c.Pb(),c.Pb(),c.Qb(21,"div",11),c.Qb(22,"div",15),c.qc(23,"Connected incoming node count. Incoming nodes send the messages they received to this instance."),c.Pb(),c.Qb(24,"div",12),c.qc(25,"Incoming Nodes"),c.Pb(),c.Qb(26,"div",13),c.qc(27),c.Pb(),c.Pb(),c.Qb(28,"div",11),c.Qb(29,"div",15),c.qc(30,"Connected outgoing node count. When a message is received, it's sent to outgoing nodes."),c.Pb(),c.Qb(31,"div",12),c.qc(32,"Outgoing Nodes"),c.Pb(),c.Qb(33,"div",13),c.qc(34),c.Pb(),c.Pb(),c.Qb(35,"div",11),c.Qb(36,"div",12),c.qc(37,"Max Queue Limit"),c.Pb(),c.Qb(38,"div",13),c.qc(39),c.bc(40,"unlimited"),c.Pb(),c.Pb(),c.Qb(41,"div",11),c.Qb(42,"div",12),c.qc(43,"Max Router Limit"),c.Pb(),c.Qb(44,"div",13),c.qc(45),c.bc(46,"unlimited"),c.Pb(),c.Pb(),c.Qb(47,"div",11),c.Qb(48,"div",12),c.qc(49,"Auto Queue Creation"),c.Pb(),c.Qb(50,"div",13),c.qc(51),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb()),2&e){const e=c.ac();c.Ab(10),c.rc(e.lifetime),c.Ab(5),c.ec("ngForOf",e.dashboard.server.hosts),c.Ab(5),c.rc(e.dashboard.server.onlineClients),c.Ab(7),c.rc(e.dashboard.server.incomingNodes),c.Ab(7),c.rc(e.dashboard.server.outgoingNodes),c.Ab(5),c.rc(c.cc(40,8,e.dashboard.serverOptions.queueLimit)),c.Ab(6),c.rc(c.cc(46,10,e.dashboard.serverOptions.routerLimit)),c.Ab(6),c.rc(e.dashboard.serverOptions.autoQueueCreation)}}function f(e,i){if(1&e&&(c.Qb(0,"em"),c.qc(1),c.Pb()),2&e){const e=c.ac(2);c.Ab(1),c.sc("(",e.dashboard.queueOptions.ackTimeout," ms timeout)")}}function q(e,i){1&e&&(c.Qb(0,"div",13),c.qc(1,"No Timeout"),c.Pb())}function y(e,i){if(1&e&&(c.Qb(0,"div",13),c.qc(1),c.Pb()),2&e){const e=c.ac(2);c.Ab(1),c.sc(" ",e.dashboard.queueOptions.msgTimeout," milliseconds ")}}function R(e,i){1&e&&(c.Qb(0,"div",13),c.qc(1,"No Delay"),c.Pb())}function A(e,i){if(1&e&&(c.Qb(0,"div",13),c.qc(1),c.Pb()),2&e){const e=c.ac(2);c.Ab(1),c.sc(" ",e.dashboard.queueOptions.delayBetweenMsgs," milliseconds ")}}function C(e,i){1&e&&(c.Qb(0,"div",13),c.qc(1,"No Delay"),c.Pb())}function M(e,i){if(1&e&&(c.Qb(0,"div",13),c.qc(1),c.Pb()),2&e){const e=c.ac(2);c.Ab(1),c.sc(" ",e.dashboard.queueOptions.putbackDelay," milliseconds ")}}function O(e,i){if(1&e&&(c.Qb(0,"div",1),c.Qb(1,"div",2),c.Qb(2,"h3",3),c.qc(3,"Default Queue Options"),c.Pb(),c.Qb(4,"div",4),c.Qb(5,"div",10),c.Qb(6,"div",11),c.Qb(7,"div",12),c.qc(8,"Status"),c.Pb(),c.Qb(9,"div",13),c.qc(10),c.Pb(),c.Pb(),c.Qb(11,"div",11),c.Qb(12,"div",12),c.qc(13,"Acknowledge"),c.Pb(),c.Qb(14,"div",13),c.qc(15),c.oc(16,f,2,1,"em",16),c.Pb(),c.Pb(),c.Qb(17,"div",11),c.Qb(18,"div",12),c.qc(19,"Message Timeout"),c.Pb(),c.oc(20,q,2,0,"div",17),c.oc(21,y,2,1,"div",17),c.Pb(),c.Qb(22,"div",11),c.Qb(23,"div",12),c.qc(24,"Message Limit"),c.Pb(),c.Qb(25,"div",13),c.qc(26),c.bc(27,"unlimited"),c.Qb(28,"em"),c.qc(29),c.bc(30,"filesize"),c.Pb(),c.Pb(),c.Pb(),c.Qb(31,"div",11),c.Qb(32,"div",12),c.qc(33,"Subscribers Limit"),c.Pb(),c.Qb(34,"div",13),c.qc(35),c.bc(36,"unlimited"),c.Pb(),c.Pb(),c.Qb(37,"div",11),c.Qb(38,"div",12),c.qc(39,"Delay Between Messages"),c.Pb(),c.oc(40,R,2,0,"div",17),c.oc(41,A,2,1,"div",17),c.Pb(),c.Qb(42,"div",11),c.Qb(43,"div",12),c.qc(44,"Put Back Delay"),c.Pb(),c.oc(45,C,2,0,"div",17),c.oc(46,M,2,1,"div",17),c.Pb(),c.Qb(47,"div",11),c.Qb(48,"div",12),c.qc(49,"Auto Destroy"),c.Pb(),c.Qb(50,"div",13),c.qc(51),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Pb()),2&e){const e=c.ac();c.Ab(10),c.rc(e.dashboard.queueOptions.status),c.Ab(5),c.sc(" ",e.dashboard.queueOptions.ack," "),c.Ab(1),c.ec("ngIf",e.dashboard.queueOptions.ackTimeout>0),c.Ab(4),c.ec("ngIf",0==e.dashboard.queueOptions.msgTimeout),c.Ab(1),c.ec("ngIf",e.dashboard.queueOptions.msgTimeout>0),c.Ab(5),c.sc(" ",c.cc(27,13,e.dashboard.queueOptions.msgLimit)," "),c.Ab(3),c.sc("(Size Limit: ",c.cc(30,15,e.dashboard.queueOptions.msgSizeLimit),")"),c.Ab(6),c.rc(c.cc(36,17,e.dashboard.queueOptions.clientLimit)),c.Ab(5),c.ec("ngIf",0==e.dashboard.queueOptions.delayBetweenMsgs),c.Ab(1),c.ec("ngIf",e.dashboard.queueOptions.delayBetweenMsgs>0),c.Ab(4),c.ec("ngIf",0==e.dashboard.queueOptions.putbackDelay),c.Ab(1),c.ec("ngIf",e.dashboard.queueOptions.putbackDelay>0),c.Ab(5),c.rc(e.dashboard.queueOptions.autoDestroy)}}let D=(()=>{class e extends b.a{constructor(e,i,t){super(),this.queueGraphService=e,this.messageGraphService=i,this.dashboardService=t,this.deliveryChart=null,this.msgChart=null,this.storeChart=null}ngOnInit(){return Object(d.a)(this,void 0,void 0,(function*(){yield this.load(),this.on(Object(r.a)(5e3)).subscribe(()=>Object(d.a)(this,void 0,void 0,(function*(){this.dashboardService.load().then(e=>this.dashboard=e),yield this.loadCharts()})))}))}load(){return Object(d.a)(this,void 0,void 0,(function*(){this.dashboardService.load().then(e=>this.dashboard=e),yield this.loadCharts();let e=new n.a;this.on(Object(r.a)(1e3)).subscribe(()=>{if(!this.dashboard)return;let i=(new Date).getTime()/1e3;this.lifetime=e.transform(i,this.dashboard.server.startedDate)})}))}loadCharts(){return Object(d.a)(this,void 0,void 0,(function*(){let e=yield this.queueGraphService.load(),i=yield this.messageGraphService.load();this.deliveryChart=new o.a(document.getElementById("delivery-chart"),{type:"line",hover:{mode:"nearest",intersect:!0},data:this.getDeliveryChartData(e),options:{animation:{duration:0},responsive:!0,scales:{xAxes:[{display:!1}],yAxes:[{display:!0,ticks:{precision:0}}]}}}),this.storeChart=new o.a(document.getElementById("store-chart"),{type:"line",hover:{mode:"nearest",intersect:!0},data:this.getStoreChartData(e),options:{animation:{duration:0},responsive:!0,scales:{xAxes:[{display:!1}],yAxes:[{display:!0,ticks:{precision:0}}]}}}),this.msgChart=new o.a(document.getElementById("msg-chart"),{type:"line",hover:{mode:"nearest",intersect:!0},data:this.getMessageChartData(i),options:{animation:{duration:0},responsive:!0,scales:{xAxes:[{display:!1}],yAxes:[{display:!0,ticks:{precision:0}}]}}})}))}getDeliveryChartData(e){return{labels:e.labels,datasets:[{label:"Received",borderColor:"#444",data:e.data.map(e=>e.received),fill:!1,pointRadius:1,pointHitRadius:8,lineTension:.2,borderWidth:2},{label:"Delivered",borderColor:"#1070af",data:e.data.map(e=>e.delivery),fill:!1,pointRadius:1,pointHitRadius:8,lineTension:.2,borderWidth:2},{label:"Ack",borderColor:"#10b02a",data:e.data.map(e=>e.ack),fill:!1,pointRadius:1,pointHitRadius:8,lineTension:.2,borderWidth:2},{label:"Neg. Ack",borderColor:"#a020c0",data:e.data.map(e=>e.nack),fill:!1,pointRadius:1,pointHitRadius:8,lineTension:.2,borderWidth:2},{label:"Unack",borderColor:"#999",data:e.data.map(e=>e.unack),fill:!1,pointRadius:1,pointHitRadius:8,lineTension:.2,borderWidth:2},{label:"Error",borderColor:"#ff0000",data:e.data.map(e=>e.error),fill:!1,pointRadius:1,pointHitRadius:8,lineTension:.2,borderWidth:2}]}}getStoreChartData(e){return{labels:e.labels,datasets:[{label:"Msgs",borderColor:"#104090",data:e.data.map(e=>e.stored),fill:!1,pointRadius:1,pointHitRadius:8,lineTension:.2,borderWidth:2},{label:"High Prio Msgs",borderColor:"#f07000",data:e.data.map(e=>e.storedPrio),fill:!1,pointRadius:1,pointHitRadius:8,lineTension:.2,borderWidth:2},{label:"Pending for Ack",borderColor:"#aa2080",data:e.data.map(e=>e.pending),fill:!1,pointRadius:1,pointHitRadius:8,lineTension:.2,borderWidth:2},{label:"Timeout",borderColor:"#cc3333",data:e.data.map(e=>e.timeout),fill:!1,pointRadius:1,pointHitRadius:8,lineTension:.2,borderWidth:2}]}}getMessageChartData(e){return{labels:e.labels,datasets:[{label:"Direct Sent",borderColor:"#1070c0",data:e.data.map(e=>e.directMessage),fill:!1,pointRadius:1,pointHitRadius:8,lineTension:.2,borderWidth:2},{label:"Direct Response",borderColor:"#907010",data:e.data.map(e=>e.directResponse),fill:!1,pointRadius:1,pointHitRadius:8,lineTension:.2,borderWidth:2},{label:"Direct Delivery",borderColor:"#10a050",data:e.data.map(e=>e.directDelivery),fill:!1,pointRadius:1,pointHitRadius:8,lineTension:.2,borderWidth:2},{label:"Direct No Receiver",borderColor:"#8010e0",data:e.data.map(e=>e.directNoReceiver),fill:!1,pointRadius:1,pointHitRadius:8,lineTension:.2,borderWidth:2},{label:"Router Publish",borderColor:"#606090",data:e.data.map(e=>e.routerPublish),fill:!1,pointRadius:1,pointHitRadius:8,lineTension:.2,borderWidth:2},{label:"Router Received",borderColor:"#20caca",data:e.data.map(e=>e.routerOk),fill:!1,pointRadius:1,pointHitRadius:8,lineTension:.2,borderWidth:2},{label:"Router No Receiver",borderColor:"#e02255",data:e.data.map(e=>e.routerFailed),fill:!1,pointRadius:1,pointHitRadius:8,lineTension:.2,borderWidth:2}]}}}return e.\u0275fac=function(i){return new(i||e)(c.Kb(l.a),c.Kb(u.a),c.Kb(v.a))},e.\u0275cmp=c.Eb({type:e,selectors:[["app-dashboard"]],features:[c.xb],decls:22,vars:4,consts:[[1,"dashboard",3,"hidden"],[1,"dashboard-portlet"],[1,"portlet"],[1,"portlet-title"],[1,"portlet-body"],["id","store-chart"],["class","dashboard-portlet",4,"ngIf"],["id","delivery-chart"],["id","msg-chart"],["class","portlet-body",4,"ngIf"],[1,"key-value-table"],[1,"kvt-row"],[1,"kvt-key"],[1,"kvt-value"],[4,"ngFor","ngForOf"],[1,"kvt-info"],[4,"ngIf"],["class","kvt-value",4,"ngIf"]],template:function(e,i){1&e&&(c.Qb(0,"div",0),c.Qb(1,"div",1),c.Qb(2,"div",2),c.Qb(3,"h3",3),c.qc(4,"Stored Messages"),c.Pb(),c.Qb(5,"div",4),c.Lb(6,"canvas",5),c.Pb(),c.Pb(),c.Pb(),c.oc(7,Q,5,1,"div",6),c.Qb(8,"div",1),c.Qb(9,"div",2),c.Qb(10,"h3",3),c.qc(11,"Queue Messages and Deliveries"),c.Pb(),c.Qb(12,"div",4),c.Lb(13,"canvas",7),c.Pb(),c.Pb(),c.Pb(),c.oc(14,m,52,12,"div",6),c.Qb(15,"div",1),c.Qb(16,"div",2),c.Qb(17,"h3",3),c.qc(18,"Direct and Route Messages and Deliveries"),c.Pb(),c.Qb(19,"div",4),c.Lb(20,"canvas",8),c.Pb(),c.Pb(),c.Pb(),c.oc(21,O,52,19,"div",6),c.Pb()),2&e&&(c.ec("hidden",null==i.dashboard),c.Ab(7),c.ec("ngIf",i.dashboard),c.Ab(7),c.ec("ngIf",i.dashboard),c.Ab(7),c.ec("ngIf",i.dashboard))},directives:[a.k,a.j],pipes:[h.a,p.a],styles:[".dashboard[_ngcontent-%COMP%]{min-width:380px;max-width:1270px;width:70%;margin:auto;display:flex;flex-direction:row;align-items:flex-start;align-content:flex-start;flex-wrap:wrap;padding-bottom:50px}.dashboard-portlet[_ngcontent-%COMP%]{flex:0 1 50%}.dashboard-portlet.wide[_ngcontent-%COMP%]{flex:0 1 100%!important}.dashboard-portlet[_ngcontent-%COMP%]   .portlet-body[_ngcontent-%COMP%]{height:350px}"]}),e})();var k=t("tyNb"),T=t("F4lh");let w=(()=>{class e{}return e.\u0275mod=c.Ib({type:e}),e.\u0275inj=c.Hb({factory:function(i){return new(i||e)},imports:[[a.b,T.a,k.e.forChild([{path:"",component:D}])]]}),e})()}}]);