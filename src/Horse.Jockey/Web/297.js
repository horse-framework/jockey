"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[297],{297:(_e,v,u)=>{u.r(v),u.d(v,{QueueModule:()=>pe});var r=u(9808),m=u(823),C=u(1887),l=u(6663),d=u(4182),x=u(655),T=u(8332),Z=u.n(T),y=u(2962),q=u(8823),p=u(8782),h=u(2198),M=u(4850),c=u(2986),f=u(8929),e=u(6435);let b=(()=>{class o{constructor(){this._onconfirmed=new f.xQ,this.target="",this._confirmed=!1}get onconfirmed(){return this._onconfirmed}ngOnInit(){}confirm(){this._confirmed=!0,this._onconfirmed.next(this.target)}ngOnDestroy(){this._confirmed||this._onconfirmed.next(null)}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-messsage-move-modal"]],decls:17,vars:2,consts:[["mat-dialog-title","",1,"title"],[1,"content"],[1,"imp"],["placeholder","Queue Name","type","text",1,"target-text",3,"ngModel","ngModelChange"],[1,"buttons"],["mat-button","","mat-dialog-close","",1,"modal-btn","btn-green",3,"click"],["mat-button","","mat-dialog-close","",1,"modal-btn","btn-grey"]],template:function(t,n){1&t&&(e.TgZ(0,"h2",0),e._uU(1,"Confirmation"),e.qZA(),e.TgZ(2,"mat-dialog-content",1)(3,"p"),e._uU(4," You are about to move "),e.TgZ(5,"b",2),e._uU(6),e.qZA(),e._uU(7," messages. Please type the target queue name."),e._UZ(8,"br"),e._uU(9," If the target queue doesn't exist, it will be created with default queue options. "),e.qZA(),e.TgZ(10,"div")(11,"input",3),e.NdJ("ngModelChange",function(a){return n.target=a}),e.qZA()()(),e.TgZ(12,"mat-dialog-actions",4)(13,"button",5),e.NdJ("click",function(){return n.confirm()}),e._uU(14,"Confirm"),e.qZA(),e.TgZ(15,"button",6),e._uU(16,"Cancel"),e.qZA()()),2&t&&(e.xp6(6),e.Oqu(n.messageCount),e.xp6(5),e.Q6J("ngModel",n.target))},directives:[l.uh,l.xY,d.Fj,d.JJ,d.On,l.H8,l.ZT],styles:[".title[_ngcontent-%COMP%]{color:#eee}.content[_ngcontent-%COMP%]{padding:0 25px 10px;display:block}.content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#d2d2d2;font-size:14px;line-height:30px}.content[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:20px 0}.target-text[_ngcontent-%COMP%]{border:1px solid #555;background-color:#000;color:#eee;font-size:14px;font-weight:500;padding:8px;width:320px}.target-text[_ngcontent-%COMP%]:focus, .target-text[_ngcontent-%COMP%]:active{border-color:#10a040}"]}),o})();var A=u(9281);function U(o,s){if(1&o&&(e.TgZ(0,"div",5)(1,"div",19),e._uU(2),e.qZA(),e.TgZ(3,"div",7),e._uU(4),e.qZA()()),2&o){const t=s.$implicit;e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.value)}}function O(o,s){if(1&o&&(e.TgZ(0,"div",4),e.YNc(1,U,5,2,"div",18),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.message.headers)}}function k(o,s){1&o&&(e.TgZ(0,"p"),e._uU(1," The message has no headers "),e.qZA())}function Q(o,s){if(1&o&&(e.TgZ(0,"div",20),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Oqu(t.message.message)}}function P(o,s){if(1&o&&(e._UZ(0,"pre",21),e.ALo(1,"prettyprint")),2&o){const t=e.oxw();e.Q6J("innerHTML",e.lcZ(1,1,t.message.messageObj),e.oJD)}}let w=(()=>{class o{constructor(){this.consumed=!1,this.isJson=!1}ngOnInit(){}setJson(t){this.isJson=t}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-queue-message-modal"]],decls:66,vars:22,consts:[["mat-dialog-title","",1,"title"],[1,"content"],[1,"queue-message"],[1,"message-props"],[1,"key-value-table"],[1,"kvt-row"],[1,"kvt-key-narrow"],[1,"kvt-value"],[1,"message-content"],[1,"message-headers"],["class","key-value-table",4,"ngIf"],[4,"ngIf"],[1,"message-content-title"],[3,"click"],["class","string-content",4,"ngIf"],["class","string-content",3,"innerHTML",4,"ngIf"],[1,"buttons"],["mat-button","","mat-dialog-close","",1,"modal-btn","btn-grey"],["class","kvt-row",4,"ngFor","ngForOf"],[1,"kvt-key"],[1,"string-content"],[1,"string-content",3,"innerHTML"]],template:function(t,n){1&t&&(e.TgZ(0,"h2",0),e._uU(1,"Queue Message"),e.qZA(),e.TgZ(2,"mat-dialog-content",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6),e._uU(8,"Id"),e.qZA(),e.TgZ(9,"div",7),e._uU(10),e.qZA()(),e.TgZ(11,"div",5)(12,"div",6),e._uU(13,"Source"),e.qZA(),e.TgZ(14,"div",7),e._uU(15),e.qZA()(),e.TgZ(16,"div",5)(17,"div",6),e._uU(18,"High Priority"),e.qZA(),e.TgZ(19,"div",7),e._uU(20),e.qZA()(),e.TgZ(21,"div",5)(22,"div",6),e._uU(23,"Created Date"),e.qZA(),e.TgZ(24,"div",7),e._uU(25),e.ALo(26,"date"),e.qZA()(),e.TgZ(27,"div",5)(28,"div",6),e._uU(29,"Deadline"),e.qZA(),e.TgZ(30,"div",7),e._uU(31),e.ALo(32,"date"),e.qZA()(),e.TgZ(33,"div",5)(34,"div",6),e._uU(35,"Persistently Saved"),e.qZA(),e.TgZ(36,"div",7),e._uU(37),e.qZA()(),e.TgZ(38,"div",5)(39,"div",6),e._uU(40,"Send Count"),e.qZA(),e.TgZ(41,"div",7),e._uU(42),e.qZA()(),e.TgZ(43,"div",5)(44,"div",6),e._uU(45,"Delivery Count"),e.qZA(),e.TgZ(46,"div",7),e._uU(47),e.qZA()()()(),e.TgZ(48,"div",8)(49,"h4"),e._uU(50,"Headers"),e.qZA(),e.TgZ(51,"div",9),e.YNc(52,O,2,1,"div",10),e.YNc(53,k,2,0,"p",11),e.qZA(),e.TgZ(54,"div",12)(55,"h4"),e._uU(56,"Message Content"),e.qZA(),e.TgZ(57,"span",13),e.NdJ("click",function(){return n.setJson(!1)}),e._uU(58,"String"),e.qZA(),e.TgZ(59,"span",13),e.NdJ("click",function(){return n.setJson(!0)}),e._uU(60,"JSON"),e.qZA()(),e.YNc(61,Q,2,1,"div",14),e.YNc(62,P,2,3,"pre",15),e.qZA()()(),e.TgZ(63,"mat-dialog-actions",16)(64,"button",17),e._uU(65,"Close"),e.qZA()()),2&t&&(e.xp6(10),e.Oqu(n.message.id),e.xp6(5),e.Oqu(n.message.source),e.xp6(5),e.Oqu(n.message.priority),e.xp6(5),e.hij(" ",e.xi3(26,16,1e3*n.message.createdDate,"yyyy-MM-dd HH:mm:ss")," "),e.xp6(6),e.hij(" ",0==n.message.deadline?"No":e.xi3(32,19,1e3*n.message.deadline,"yyyy-MM-dd HH:mm:ss")," "),e.xp6(6),e.Oqu(n.message.isSaved),e.xp6(5),e.Oqu(n.message.sendCount),e.xp6(5),e.Oqu(n.message.deliveryCount),e.xp6(5),e.Q6J("ngIf",n.message.headers.length>0),e.xp6(1),e.Q6J("ngIf",0==n.message.headers.length),e.xp6(4),e.ekj("active",!n.isJson),e.xp6(2),e.ekj("active",n.isJson),e.xp6(2),e.Q6J("ngIf",!n.isJson),e.xp6(1),e.Q6J("ngIf",n.isJson))},directives:[l.uh,l.xY,r.O5,r.sg,l.H8,l.ZT],pipes:[r.uU,A.F],styles:[".title[_ngcontent-%COMP%]{color:#eee}.content[_ngcontent-%COMP%]{padding:0 25px 10px}.content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#d2d2d2;font-size:14px;line-height:30px}.queue-message[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:stretch;align-content:stretch;justify-content:stretch;justify-items:stretch}.message-props[_ngcontent-%COMP%]{flex:1 1 440px}.message-content[_ngcontent-%COMP%]{flex:1 1 auto;border-left:1px solid #333;padding-left:20px}.message-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{display:block;color:#ccc;font-size:12px;font-weight:500;text-transform:uppercase;margin:0;padding:0}.message-headers[_ngcontent-%COMP%]{padding:5px 0 10px}.message-headers[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px;margin:10px 0;padding:0;color:#aaa}.message-content-title[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-content:stretch;align-items:stretch;justify-items:stretch;justify-content:stretch;height:28px;width:440px}.message-content-title[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{flex:1 0 auto}.message-content-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex:0 1 auto;padding:4px;margin-left:10px;color:#aaa;font-size:12px;cursor:pointer;margin-top:-4px}.message-content-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{color:#eee}.message-content-title[_ngcontent-%COMP%]   span.active[_ngcontent-%COMP%]{color:#fa2}.string-content[_ngcontent-%COMP%]{width:440px;clear:both;border:1px solid #333;border-radius:2px;padding:10px;margin:0;background-color:#000;height:222px;box-sizing:border-box;color:#eee;line-height:22px;font-size:13px;font-family:Ubuntu Mono,monospace;overflow:auto}"]}),o})();class N{}const D=["headerKeyInput"],J=["headerValueInput"];function H(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"td",25),e._uU(2),e.qZA(),e.TgZ(3,"td",26),e._uU(4),e.qZA(),e.TgZ(5,"td",27)(6,"span",28),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.oxw().removeHeader(a.name)}),e._uU(7,"Remove"),e.qZA()()()}if(2&o){const t=s.$implicit;e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.value)}}let I=(()=>{class o{constructor(){this._onconfirmed=new f.xQ,this._confirmed=!1,this.message=new N,this.message.id=this.generateUUID(),this.message.headers=[],this.message.contentType=0,this.message.priority=!1,this.message.message=""}get onconfirmed(){return this._onconfirmed}ngOnInit(){}ngOnDestroy(){this._confirmed||this._onconfirmed.next(null)}headerKeyUp(t,n){"Enter"==n.key&&(t?this.headerValueInput.nativeElement.focus():this.addHeader())}removeHeader(t){let n=this.message.headers.findIndex(i=>i.name==t);n<0||this.message.headers.splice(n,1)}addHeader(){let t=this.addingHeaderKey.trim(),n=this.addingHeaderValue.trim();t.length<1||n.length<1||(this.message.headers.push({name:t,value:n}),this.addingHeaderKey="",this.addingHeaderValue="",this.headerKeyInput.nativeElement.focus())}push(){this._confirmed=!0,this._onconfirmed.next(this.message)}generateUUID(){var t=(new Date).getTime(),n="undefined"!=typeof performance&&performance.now&&1e3*performance.now()||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(i){var a=16*Math.random();return t>0?(a=(t+a)%16|0,t=Math.floor(t/16)):(a=(n+a)%16|0,n=Math.floor(n/16)),("x"===i?a:3&a|8).toString(16)})}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-queue-push-modal"]],viewQuery:function(t,n){if(1&t&&(e.Gf(D,5),e.Gf(J,5)),2&t){let i;e.iGM(i=e.CRH())&&(n.headerKeyInput=i.first),e.iGM(i=e.CRH())&&(n.headerValueInput=i.first)}},decls:47,vars:7,consts:[["mat-dialog-title","",1,"title"],[1,"content"],[1,"queue-message"],[1,"key-value-table"],[1,"kvt-row"],[1,"kvt-key-narrow"],[1,"kvt-value"],["type","text",1,"jockey-text",2,"width","280px",3,"ngModel","ngModelChange"],["type","number","min","0","max","65535",1,"jockey-text",2,"width","120px",3,"ngModel","ngModelChange"],["type","checkbox",1,"jockey-text",3,"ngModel","ngModelChange"],[1,"message-headers"],[1,"header-scroll","scroll"],[1,"message-header-table"],[4,"ngFor","ngForOf"],[1,"header-row"],[1,"header-input"],["placeholder","Key","type","text",1,"jockey-text",3,"ngModel","keyup","ngModelChange"],["headerKeyInput",""],[1,"header-seperator"],["placeholder","Value","type","text",1,"jockey-text",3,"ngModel","keyup","ngModelChange"],["headerValueInput",""],[1,"jockey-text","scroll",3,"ngModel","ngModelChange"],[1,"buttons"],["mat-button","","mat-dialog-close","",1,"modal-btn","btn-green",3,"click"],["mat-button","","mat-dialog-close","",1,"modal-btn","btn-grey"],[1,"header-key"],[1,"header-value"],[1,"header-action"],[3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"h2",0),e._uU(1,"Push New Queue Message"),e.qZA(),e.TgZ(2,"mat-dialog-content",1)(3,"div",2)(4,"h4"),e._uU(5,"Message Properties"),e.qZA(),e.TgZ(6,"div",3)(7,"div",4)(8,"div",5),e._uU(9,"Id"),e.qZA(),e.TgZ(10,"div",6)(11,"input",7),e.NdJ("ngModelChange",function(a){return n.message.id=a}),e.qZA()()(),e.TgZ(12,"div",4)(13,"div",5),e._uU(14,"Content Type"),e.qZA(),e.TgZ(15,"div",6)(16,"input",8),e.NdJ("ngModelChange",function(a){return n.message.contentType=a}),e.qZA()()(),e.TgZ(17,"div",4)(18,"div",5),e._uU(19,"High Priority"),e.qZA(),e.TgZ(20,"div",6)(21,"input",9),e.NdJ("ngModelChange",function(a){return n.message.priority=a}),e.qZA()()()(),e._UZ(22,"br"),e.TgZ(23,"h4"),e._uU(24,"Headers"),e.qZA(),e.TgZ(25,"div",10)(26,"div",11)(27,"table",12),e.YNc(28,H,8,2,"tr",13),e.qZA()()(),e.TgZ(29,"div",14)(30,"div",15)(31,"input",16,17),e.NdJ("keyup",function(a){return n.headerKeyUp(!0,a)})("ngModelChange",function(a){return n.addingHeaderKey=a}),e.qZA()(),e.TgZ(33,"div",18),e._uU(34,":"),e.qZA(),e.TgZ(35,"div",15)(36,"input",19,20),e.NdJ("keyup",function(a){return n.headerKeyUp(!1,a)})("ngModelChange",function(a){return n.addingHeaderValue=a}),e.qZA()()(),e._UZ(38,"br"),e.TgZ(39,"h4"),e._uU(40,"Message Content"),e.qZA(),e.TgZ(41,"textarea",21),e.NdJ("ngModelChange",function(a){return n.message.message=a}),e.qZA()()(),e.TgZ(42,"mat-dialog-actions",22)(43,"button",23),e.NdJ("click",function(){return n.push()}),e._uU(44,"Push Message"),e.qZA(),e.TgZ(45,"button",24),e._uU(46,"Close"),e.qZA()()),2&t&&(e.xp6(11),e.Q6J("ngModel",n.message.id),e.xp6(5),e.Q6J("ngModel",n.message.contentType),e.xp6(5),e.Q6J("ngModel",n.message.priority),e.xp6(7),e.Q6J("ngForOf",n.message.headers),e.xp6(3),e.Q6J("ngModel",n.addingHeaderKey),e.xp6(5),e.Q6J("ngModel",n.addingHeaderValue),e.xp6(5),e.Q6J("ngModel",n.message.message))},directives:[l.uh,l.xY,d.Fj,d.JJ,d.On,d.qQ,d.Fd,d.wV,d.Wl,r.sg,l.H8,l.ZT],styles:[".title[_ngcontent-%COMP%]{color:#eee}.content[_ngcontent-%COMP%]{padding:0 25px 10px}.content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#d2d2d2;font-size:14px;line-height:30px}.queue-message[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:stretch;align-content:stretch;justify-content:stretch;justify-items:stretch}.queue-message[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{display:block;color:#ccc;font-size:12px;font-weight:500;text-transform:uppercase;margin:10px 0;padding:0}.message-headers[_ngcontent-%COMP%]{padding:0 0 10px}.header-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:stretch;align-content:stretch;justify-content:stretch;justify-items:stretch;font-size:14px;font-weight:500}.message-header-table[_ngcontent-%COMP%]{width:100%}.header-key[_ngcontent-%COMP%]{color:#aaa;text-align:right;padding:10px;font-size:15px}.header-value[_ngcontent-%COMP%]{color:#eee;text-align:left;padding:10px;font-size:14px}.header-action[_ngcontent-%COMP%]{text-align:right;padding:4px 0 4px 4px;flex:0 2 50px}.header-action[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:13px;font-weight:500;padding:6px;color:#ff2020;cursor:pointer}.header-action[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{color:#f90}.header-scroll[_ngcontent-%COMP%]{max-height:125px;overflow-y:auto;margin-right:8px;margin-bottom:12px}.header-seperator[_ngcontent-%COMP%]{color:#ccc;font-size:12px;flex:0 1 15px;box-sizing:border-box;padding:5px 0;line-height:32px;text-align:center}.header-input[_ngcontent-%COMP%]{font-size:12px;flex:1 1 auto;box-sizing:border-box;padding:5px}.header-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{box-sizing:border-box;width:100%}.queue-message[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:484px;height:90px;resize:none;line-height:22px;font-size:13px;font-family:Ubuntu Mono,monospace}"]}),o})();function S(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"input",8),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().model.value=i}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("ngModel",t.model.value)}}function R(o,s){if(1&o&&(e.TgZ(0,"option",11),e._uU(1),e.qZA()),2&o){const t=s.$implicit;e.Q6J("ngValue",t.value),e.xp6(1),e.Oqu(t.text)}}function j(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"select",9),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().model.value=i}),e.YNc(1,R,2,2,"option",10),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("ngModel",t.model.value),e.xp6(1),e.Q6J("ngForOf",t.autoDestroyItems)}}let z=(()=>{class o{constructor(){this._onconfirmed=new f.xQ,this.model={confirmed:!1,title:"",property:"",value:null,type:"text"},this._confirmed=!1,this.autoDestroyItems=[{value:"Disabled",text:"Queue stays forever. It's removed only manually."},{value:"NoMessages",text:"Queue is destroyed if empty"},{value:"NoConsumers",text:"Queue is destroyed if there are no consumers (even not empty)"},{value:"Empty",text:"Queue is destroyed when it's empty and there are no consumers"}]}get onconfirmed(){return this._onconfirmed}ngOnInit(){}confirm(){this._confirmed=!0,this.model.confirmed=!0,this._onconfirmed.next(this.model)}ngOnDestroy(){this._confirmed||(this.model.confirmed=!1,this._onconfirmed.next(this.model))}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-queue-option-modal"]],decls:13,vars:3,consts:[["mat-dialog-title","",1,"title"],[1,"content"],[1,"form-item"],["placeholder","Option Value","class","target-text","type","text",3,"ngModel","ngModelChange",4,"ngIf"],["class","jockey-select",3,"ngModel","ngModelChange",4,"ngIf"],[1,"buttons"],["mat-button","","mat-dialog-close","",1,"modal-btn","btn-green",3,"click"],["mat-button","","mat-dialog-close","",1,"modal-btn","btn-grey"],["placeholder","Option Value","type","text",1,"target-text",3,"ngModel","ngModelChange"],[1,"jockey-select",3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"]],template:function(t,n){1&t&&(e.TgZ(0,"h2",0),e._uU(1,"Queue Option Change"),e.qZA(),e.TgZ(2,"mat-dialog-content",1)(3,"div",2)(4,"label"),e._uU(5),e.qZA(),e.YNc(6,S,1,1,"input",3),e.YNc(7,j,2,2,"select",4),e.qZA()(),e.TgZ(8,"mat-dialog-actions",5)(9,"button",6),e.NdJ("click",function(){return n.confirm()}),e._uU(10,"Confirm"),e.qZA(),e.TgZ(11,"button",7),e._uU(12,"Cancel"),e.qZA()()),2&t&&(e.xp6(5),e.Oqu(n.model.title),e.xp6(1),e.Q6J("ngIf","autoDestroy"!=n.model.property),e.xp6(1),e.Q6J("ngIf","autoDestroy"==n.model.property))},directives:[l.uh,l.xY,r.O5,d.Fj,d.JJ,d.On,d.EJ,r.sg,d.YN,d.Kr,l.H8,l.ZT],styles:[".title[_ngcontent-%COMP%]{color:#eee}.content[_ngcontent-%COMP%]{padding:0 25px 10px;display:block}.content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#d2d2d2;font-size:14px;line-height:30px}.content[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:20px 0}.target-text[_ngcontent-%COMP%]{border:1px solid #555;background-color:#000;color:#eee;font-size:14px;font-weight:500;padding:8px;width:320px}.target-text[_ngcontent-%COMP%]:focus, .target-text[_ngcontent-%COMP%]:active{border-color:#10a040}.form-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1 1 auto;align-content:stretch;align-items:stretch;justify-content:stretch;justify-items:stretch;padding:8px 0}.form-item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{flex:1 1 auto;color:#bbb;font-size:13px;text-transform:uppercase;padding:4px 0;font-weight:500}.form-item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1 1 auto;width:432px}.form-item[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{flex:1 1 auto;width:450px}"]}),o})();var Y=u(379),F=u(5608),L=u(3349),B=u(8392),E=u(3369);function V(o,s){if(1&o&&(e.TgZ(0,"div",18),e._uU(1),e.ALo(2,"date"),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Oqu(e.xi3(2,1,1e3*t.queue.stats.lastReceived,"yyyy-MM-dd HH:mm:ss"))}}function W(o,s){1&o&&(e.TgZ(0,"div",18),e._uU(1,"None"),e.qZA())}function K(o,s){if(1&o&&(e.TgZ(0,"div",18),e._uU(1),e.ALo(2,"date"),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.hij(" ",e.xi3(2,1,1e3*t.queue.stats.lastSent,"yyyy-MM-dd HH:mm:ss")," ")}}function G(o,s){1&o&&(e.TgZ(0,"div",18),e._uU(1,"None"),e.qZA())}function $(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",3)(1,"h3",4),e._uU(2," Queue Statistics "),e.TgZ(3,"a",13),e.NdJ("click",function(){return e.CHM(t),e.oxw().resetStats()}),e._uU(4,"Reset"),e.qZA()(),e.TgZ(5,"div",14)(6,"div",15)(7,"div",16)(8,"div",17),e._uU(9,"Published Messages"),e.qZA(),e.TgZ(10,"div",18),e._uU(11),e.qZA()(),e.TgZ(12,"div",16)(13,"div",17),e._uU(14,"Consumed Messages"),e.qZA(),e.TgZ(15,"div",18),e._uU(16),e.qZA()(),e.TgZ(17,"div",16)(18,"div",17),e._uU(19,"Acknowledge Messages"),e.qZA(),e.TgZ(20,"div",18),e._uU(21),e.qZA()(),e.TgZ(22,"div",16)(23,"div",17),e._uU(24,"Total Timed out Messages"),e.qZA(),e.TgZ(25,"div",18),e._uU(26),e.qZA()(),e.TgZ(27,"div",16)(28,"div",17),e._uU(29,"Total Errors"),e.qZA(),e.TgZ(30,"div",18),e._uU(31),e.qZA()(),e.TgZ(32,"div",16)(33,"div",17),e._uU(34,"Last Publish Date"),e.qZA(),e.YNc(35,V,3,4,"div",19),e.YNc(36,W,2,0,"div",19),e.qZA(),e.TgZ(37,"div",16)(38,"div",17),e._uU(39,"Last Consume Date"),e.qZA(),e.YNc(40,K,3,4,"div",19),e.YNc(41,G,2,0,"div",19),e.qZA()()()()}if(2&o){const t=e.oxw();e.xp6(11),e.Oqu(t.queue.stats.totalReceived),e.xp6(5),e.AsE("",t.queue.stats.totalDelivered," consumes, ",t.queue.stats.totalSent," unique msgs "),e.xp6(5),e.lnq("",t.queue.stats.totalAck," ack, ",t.queue.stats.totalNack," nack, ",t.queue.stats.totalUnack," unack"),e.xp6(5),e.Oqu(t.queue.stats.totalTimedout),e.xp6(5),e.Oqu(t.queue.stats.totalErrors),e.xp6(4),e.Q6J("ngIf",t.queue.stats.lastReceived>0),e.xp6(1),e.Q6J("ngIf",0==t.queue.stats.lastReceived),e.xp6(4),e.Q6J("ngIf",t.queue.stats.lastSent>0),e.xp6(1),e.Q6J("ngIf",0==t.queue.stats.lastSent)}}function X(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",18),e._uU(1),e.TgZ(2,"a",35),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return i.changeOption("Acknowledge Timeout","ackTimeout",i.queue.info.ackTimeout)}),e._uU(3,"Change"),e.qZA()()}if(2&o){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.queue.info.ackTimeout," ms Timeout ")}}function ee(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",18),e._uU(1," No Timeout "),e.TgZ(2,"a",35),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return i.changeOption("Acknowledge Timeout","ackTimeout",i.queue.info.ackTimeout)}),e._uU(3,"Change"),e.qZA()()}}function te(o,s){1&o&&(e.TgZ(0,"div",18),e._uU(1,"No Timeout"),e.qZA())}function ne(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",18),e._uU(1),e.TgZ(2,"a",35),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return i.changeOption("Message Timeout","msgTimeout",i.queue.info.msgTimeout)}),e._uU(3,"Change"),e.qZA()()}if(2&o){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.queue.info.msgTimeout," Milliseconds ")}}function oe(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",18),e._uU(1," No Delay "),e.TgZ(2,"a",35),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return i.changeOption("Delay Between Messages","delayBetweenMsgs",i.queue.info.delayBetweenMsgs)}),e._uU(3,"Change"),e.qZA()()}}function ie(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",18),e._uU(1),e.TgZ(2,"a",35),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return i.changeOption("Delay Between Messages","delayBetweenMsgs",i.queue.info.delayBetweenMsgs)}),e._uU(3,"Change"),e.qZA()()}if(2&o){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.queue.info.delayBetweenMsgs," Milliseconds ")}}function se(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",18),e._uU(1," No Delay "),e.TgZ(2,"a",35),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return i.changeOption("Put Back Delay","putBackDelay",i.queue.info.putBackDelay)}),e._uU(3,"Change"),e.qZA()()}}function ae(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",18),e._uU(1),e.TgZ(2,"a",35),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return i.changeOption("Put Back Delay","putBackDelay",i.queue.info.putBackDelay)}),e._uU(3,"Change"),e.qZA()()}if(2&o){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.queue.info.putBackDelay," Milliseconds ")}}function ue(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div")(1,"div",3)(2,"h3",4),e._uU(3,"Queue Actions"),e.qZA(),e.TgZ(4,"div",5)(5,"div",20)(6,"div",21)(7,"div")(8,"button",22),e.NdJ("click",function(){return e.CHM(t),e.oxw().push()}),e._uU(9,"Push New Message"),e.qZA(),e.TgZ(10,"p"),e._uU(11,"Creates and pushes a message into the queue"),e.qZA()(),e.TgZ(12,"div")(13,"button",23),e.NdJ("click",function(){return e.CHM(t),e.oxw().read()}),e._uU(14,"Read First Message"),e.qZA(),e.TgZ(15,"p"),e._uU(16,"Shows the first message information. Message will "),e.TgZ(17,"b"),e._uU(18,"not"),e.qZA(),e._uU(19," be consumed."),e.qZA()(),e.TgZ(20,"div")(21,"button",24),e.NdJ("click",function(){return e.CHM(t),e.oxw().consume()}),e._uU(22,"Consume First Message"),e.qZA(),e.TgZ(23,"p"),e._uU(24,"Shows the first message information. Message will be "),e.TgZ(25,"b"),e._uU(26,"consumed."),e.qZA()()(),e.TgZ(27,"div")(28,"button",25),e.NdJ("click",function(){return e.CHM(t),e.oxw().move()}),e._uU(29,"Move Messages"),e.qZA(),e.TgZ(30,"p"),e._uU(31,"Moves all messages to another queue and removes them "),e.TgZ(32,"b"),e._uU(33,"permanently."),e.qZA()()(),e.TgZ(34,"div")(35,"button",26),e.NdJ("click",function(){return e.CHM(t),e.oxw().clear()}),e._uU(36,"Clear All Messages"),e.qZA(),e.TgZ(37,"p"),e._uU(38,"Clears queue. Deletes all messages "),e.TgZ(39,"b"),e._uU(40,"permanently!"),e.qZA()()(),e.TgZ(41,"div")(42,"button",27),e.NdJ("click",function(){return e.CHM(t),e.oxw().remove()}),e._uU(43,"Delete Queue"),e.qZA(),e.TgZ(44,"p"),e._uU(45,"Deletes queue and "),e.TgZ(46,"b"),e._uU(47,"all messages"),e.qZA(),e._uU(48," in it "),e.TgZ(49,"b"),e._uU(50,"permanently!"),e.qZA()()()(),e.TgZ(51,"div",28)(52,"div")(53,"em"),e._uU(54,"Current Status"),e.qZA(),e.TgZ(55,"strong"),e._uU(56),e.qZA()(),e.TgZ(57,"div")(58,"em"),e._uU(59,"New Status"),e.qZA(),e.TgZ(60,"div")(61,"button",29),e.NdJ("click",function(){return e.CHM(t),e.oxw().setStatus("Paused")}),e._uU(62,"Paused"),e.qZA()(),e.TgZ(63,"div")(64,"button",30),e.NdJ("click",function(){return e.CHM(t),e.oxw().setStatus("Running")}),e._uU(65,"Running"),e.qZA()(),e.TgZ(66,"div")(67,"button",31),e.NdJ("click",function(){return e.CHM(t),e.oxw().setStatus("OnlyPush")}),e._uU(68,"Only Push"),e.qZA()(),e.TgZ(69,"div")(70,"button",32),e.NdJ("click",function(){return e.CHM(t),e.oxw().setStatus("OnlyConsume")}),e._uU(71,"Only Consume"),e.qZA()()()()()()(),e.TgZ(72,"div",3)(73,"h3",4),e._uU(74,"Queue Information"),e.qZA(),e.TgZ(75,"div",33)(76,"div",15)(77,"div",16)(78,"div",17),e._uU(79,"Name"),e.qZA(),e.TgZ(80,"div",18),e._uU(81),e.qZA()(),e.TgZ(82,"div",16)(83,"div",17),e._uU(84,"Active Consumers"),e.qZA(),e.TgZ(85,"div",18),e._uU(86),e.qZA()(),e.TgZ(87,"div",16)(88,"div",17),e._uU(89,"Stored Messages"),e.qZA(),e.TgZ(90,"div",18),e._uU(91),e.qZA()(),e._UZ(92,"div",34),e.TgZ(93,"div",16)(94,"div",17),e._uU(95,"Topic"),e.qZA(),e.TgZ(96,"div",18),e._uU(97),e.TgZ(98,"a",35),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return i.changeOption("Topic","topic",i.queue.info.topic)}),e._uU(99,"Change"),e.qZA()()(),e.TgZ(100,"div",16)(101,"div",17),e._uU(102,"Type"),e.qZA(),e.TgZ(103,"div",18),e._uU(104),e.qZA()(),e.TgZ(105,"div",16)(106,"div",17),e._uU(107,"Manager"),e.qZA(),e.TgZ(108,"div",18),e._uU(109),e.qZA()(),e.TgZ(110,"div",16)(111,"div",17),e._uU(112,"Consumer Limit"),e.qZA(),e.TgZ(113,"div",18),e._uU(114),e.ALo(115,"unlimited"),e.TgZ(116,"a",35),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return i.changeOption("Consumer Limit","clientLimit",i.queue.options.clientLimit)}),e._uU(117,"Change"),e.qZA()()(),e.TgZ(118,"div",16)(119,"div",17),e._uU(120,"Created Date"),e.qZA(),e.TgZ(121,"div",18),e._uU(122),e.ALo(123,"date"),e.qZA()(),e._UZ(124,"div",34),e.TgZ(125,"div",16)(126,"div",17),e._uU(127,"Acknowledge"),e.qZA(),e.TgZ(128,"div",18),e._uU(129),e.qZA()(),e.TgZ(130,"div",16)(131,"div",17),e._uU(132,"Acknowledge Timeout"),e.qZA(),e.YNc(133,X,4,1,"div",19),e.YNc(134,ee,4,0,"div",19),e.qZA(),e.TgZ(135,"div",16)(136,"div",17),e._uU(137,"Commit When"),e.qZA(),e.TgZ(138,"div",18),e._uU(139),e.qZA()(),e._UZ(140,"div",34),e.TgZ(141,"div",16)(142,"div",17),e._uU(143,"Message Timeout"),e.qZA(),e.YNc(144,te,2,0,"div",19),e.YNc(145,ne,4,1,"div",19),e.qZA(),e.TgZ(146,"div",16)(147,"div",17),e._uU(148,"Message Limit"),e.qZA(),e.TgZ(149,"div",18),e._uU(150),e.ALo(151,"unlimited"),e.TgZ(152,"a",35),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return i.changeOption("Message Timeout","msgLimit",i.queue.info.msgLimit)}),e._uU(153,"Change"),e.qZA()()(),e.TgZ(154,"div",16)(155,"div",17),e._uU(156,"Message Size Limit"),e.qZA(),e.TgZ(157,"div",18),e._uU(158),e.ALo(159,"filesize"),e.TgZ(160,"a",35),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return i.changeOption("Message Size Limit","msgSizeLimit",i.queue.info.msgSizeLimit)}),e._uU(161,"Change"),e.qZA()()(),e._UZ(162,"div",34),e.TgZ(163,"div",16)(164,"div",17),e._uU(165,"Delay Between Messages"),e.qZA(),e.YNc(166,oe,4,0,"div",19),e.YNc(167,ie,4,1,"div",19),e.qZA(),e.TgZ(168,"div",16)(169,"div",17),e._uU(170,"Put Back Delay"),e.qZA(),e.YNc(171,se,4,0,"div",19),e.YNc(172,ae,4,1,"div",19),e.qZA(),e.TgZ(173,"div",16)(174,"div",17),e._uU(175,"Auto Destroy"),e.qZA(),e.TgZ(176,"div",18),e._uU(177),e.TgZ(178,"a",35),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return i.changeOption("Auto Destroy","autoDestroy",i.queue.info.autoDestroy)}),e._uU(179,"Change"),e.qZA()()()()()()()}if(2&o){const t=e.oxw();let n;e.xp6(56),e.Oqu(t.queue.info.status),e.xp6(25),e.Oqu(t.queue.info.name),e.xp6(5),e.Oqu(t.queue.stats.consumers),e.xp6(5),e.Oqu(t.queue.stats.storedMsgs+t.queue.stats.storedPrioMsgs+t.queue.stats.processingMsgs+t.queue.stats.ackPendingMsgs),e.xp6(6),e.hij(" ",null!==(n=t.queue.info.topic)&&void 0!==n?n:"-"," "),e.xp6(7),e.Oqu(t.queue.info.type),e.xp6(5),e.Oqu(t.queue.info.manager),e.xp6(5),e.hij(" ",e.lcZ(115,22,t.queue.options.clientLimit)," "),e.xp6(8),e.Oqu(e.xi3(123,24,1e3*t.queue.info.createdDate,"yyyy-MM-dd HH:mm:ss")),e.xp6(7),e.hij(" ",t.queue.info.acknowledge," "),e.xp6(4),e.Q6J("ngIf",t.queue.info.ackTimeout>0),e.xp6(1),e.Q6J("ngIf",0==t.queue.info.ackTimeout),e.xp6(5),e.hij(" ",t.queue.options.commitWhen," "),e.xp6(5),e.Q6J("ngIf",0==t.queue.info.msgTimeout),e.xp6(1),e.Q6J("ngIf",t.queue.info.msgTimeout>0),e.xp6(5),e.hij(" ",e.lcZ(151,27,t.queue.info.msgLimit)," "),e.xp6(8),e.hij(" ",e.lcZ(159,29,t.queue.info.msgSizeLimit)," "),e.xp6(8),e.Q6J("ngIf",0==t.queue.info.delayBetweenMsgs),e.xp6(1),e.Q6J("ngIf",t.queue.info.delayBetweenMsgs>0),e.xp6(4),e.Q6J("ngIf",0==t.queue.info.putBackDelay),e.xp6(1),e.Q6J("ngIf",t.queue.info.putBackDelay>0),e.xp6(5),e.hij(" ",t.queue.info.autoDestroy," ")}}function le(o,s){if(1&o&&(e.TgZ(0,"div",49)(1,"span"),e._uU(2,"Processing"),e.qZA(),e.TgZ(3,"em"),e._uU(4),e.ALo(5,"date"),e.qZA()()),2&o){const t=e.oxw().$implicit;e.xp6(4),e.Oqu(e.xi3(5,1,1e3*t.processingDeadline,"yyyy-MM-dd HH:mm:ss"))}}function de(o,s){1&o&&(e.TgZ(0,"div",49)(1,"span"),e._uU(2,"Idle"),e.qZA()())}function re(o,s){if(1&o&&(e.TgZ(0,"div",45)(1,"div",46)(2,"span"),e._uU(3),e.qZA()(),e.TgZ(4,"div",46)(5,"span"),e._uU(6),e.qZA()(),e.TgZ(7,"div",47)(8,"a",48),e._uU(9),e.qZA()(),e.TgZ(10,"div",49)(11,"span"),e._uU(12),e.ALo(13,"date"),e.qZA()(),e.TgZ(14,"div",49)(15,"span"),e._uU(16),e.qZA()(),e.TgZ(17,"div",49)(18,"span"),e._uU(19),e.qZA()(),e.TgZ(20,"div",49)(21,"span"),e._uU(22),e.qZA()(),e.YNc(23,le,6,4,"div",50),e.YNc(24,de,3,0,"div",50),e.qZA()),2&o){const t=s.$implicit;e.xp6(3),e.Oqu(t.type),e.xp6(3),e.Oqu(t.name),e.xp6(2),e.MGl("routerLink","/client/",t.id,""),e.xp6(1),e.Oqu(t.id),e.xp6(3),e.Oqu(e.xi3(13,10,1e3*t.subscriptionDate,"yyyy-MM-dd HH:mm:ss")),e.xp6(4),e.Oqu(t.consumes),e.xp6(3),e.Oqu(t.acks),e.xp6(3),e.Oqu(t.ackTimeouts),e.xp6(1),e.Q6J("ngIf",t.currentlyProcessing),e.xp6(1),e.Q6J("ngIf",!t.currentlyProcessing)}}function ce(o,s){if(1&o&&(e.TgZ(0,"div",36)(1,"div",1)(2,"div",37)(3,"h3",4),e._uU(4,"Queue Consumers"),e.qZA(),e.TgZ(5,"div",38)(6,"div",39)(7,"div",40),e._uU(8,"Type"),e.qZA(),e.TgZ(9,"div",40),e._uU(10,"Name"),e.qZA(),e.TgZ(11,"div",41),e._uU(12,"Id"),e.qZA(),e.TgZ(13,"div",42),e._uU(14,"Subscribed Date"),e.qZA(),e.TgZ(15,"div",42),e._uU(16,"Consumed"),e.qZA(),e.TgZ(17,"div",42),e._uU(18,"Acknowledged"),e.qZA(),e.TgZ(19,"div",42),e._uU(20,"Ack Timed out"),e.qZA(),e.TgZ(21,"div",42),e._uU(22,"Status"),e.qZA()(),e.TgZ(23,"div",43),e.YNc(24,re,25,13,"div",44),e.qZA()()()()()),2&o){const t=e.oxw();e.xp6(24),e.Q6J("ngForOf",t.queue.consumers)}}let ge=(()=>{class o extends y.H{constructor(t,n,i,a,g,_){super(),this.dialog=t,this.chartService=n,this.activatedRoute=i,this.socket=a,this.router=g,this.queueService=_,this.resolution="1m"}ngOnInit(){return(0,x.mG)(this,void 0,void 0,function*(){this.queueName=this.activatedRoute.snapshot.params.name,null!=this.queueName&&0!==this.queueName.length&&(yield this.load(),this.subscribeWebsocket())})}subscribeWebsocket(){this.on(this.socket.onmessage).pipe((0,h.h)(t=>t.type==q.S.QueueGraph&&t.payload.n==this.queueName),(0,h.h)(()=>null!=this.deliveryChart),(0,M.U)(t=>t.payload)).subscribe(t=>this.chartService.updateChart(this.deliveryChart,t)),this.on(this.socket.onmessage).pipe((0,h.h)(t=>t.type==q.S.QueueStoreGraph&&t.payload.n==this.queueName),(0,h.h)(()=>null!=this.storeChart),(0,M.U)(t=>t.payload)).subscribe(t=>this.chartService.updateChart(this.storeChart,t)),this.socket.subscribe("queue:"+this.queueName,"1m")}load(){return(0,x.mG)(this,void 0,void 0,function*(){this.queue=yield this.queueService.get(this.queueName),this.graph=yield this.queueService.getGraph(this.queueName,this.resolution),this.deliveryChart&&this.deliveryChart.destroy(),this.deliveryChart=new(Z())(document.getElementById("queue-delivery-chart"),{type:"line",hover:{mode:"nearest",intersect:!0},data:{labels:this.graph.stream.labels,datasets:[{label:"Produced",borderColor:"#2070e0",data:this.graph.stream.d.map(t=>t.r),fill:!1,pointRadius:1,pointHitRadius:8,lineTension:.2,borderWidth:2},{label:"Ack",borderColor:"#12bf4a",data:this.graph.stream.d.map(t=>t.d),fill:!1,pointRadius:1,pointHitRadius:8,lineTension:.2,borderWidth:2},{label:"Neg. Ack",borderColor:"#c042ef",data:this.graph.stream.d.map(t=>t.rs),fill:!1,pointRadius:1,pointHitRadius:8,lineTension:.2,borderWidth:2},{label:"Unack",borderColor:"#eec236",data:this.graph.stream.d.map(t=>t.nr),fill:!1,pointRadius:1,pointHitRadius:8,lineTension:.2,borderWidth:2},{label:"Error",borderColor:"#ff3333",data:this.graph.stream.d.map(t=>t.e),fill:!1,pointRadius:1,pointHitRadius:8,lineTension:.2,borderWidth:2}]},options:{animation:{duration:0},responsive:!0,scales:{xAxes:[{display:!1}],yAxes:[{display:!0,ticks:{precision:0}}]}}}),this.storeChart&&this.storeChart.destroy(),this.storeChart=new(Z())(document.getElementById("queue-store-chart"),{type:"line",hover:{mode:"nearest",intersect:!0},data:{labels:this.graph.store.labels,datasets:[{label:"Msgs",borderColor:"#2070e0",data:this.graph.store.d.map(t=>t.r),fill:!1,pointRadius:1,pointHitRadius:8,lineTension:.2,borderWidth:2},{label:"High Prio Msgs",borderColor:"#ff9911",data:this.graph.store.d.map(t=>t.d),fill:!1,pointRadius:1,pointHitRadius:8,lineTension:.2,borderWidth:2},{label:"Pending for Ack",borderColor:"#10a0a0",data:this.graph.store.d.map(t=>t.nr),fill:!1,pointRadius:1,pointHitRadius:8,lineTension:.2,borderWidth:2},{label:"Processing",borderColor:"#f02020",data:this.graph.store.d.map(t=>t.s),fill:!1,pointRadius:1,pointHitRadius:8,lineTension:.2,borderWidth:2}]},options:{animation:{duration:0},responsive:!0,scales:{xAxes:[{display:!1}],yAxes:[{display:!0,ticks:{precision:0}}]}}})})}ngOnDestroy(){super.ngOnDestroy(),(new Date).getTime().toString(),this.socket.unsubscribe("queue:"+this.queueName)}push(){let n=this.dialog.open(I,{width:"550px"}).componentInstance;n.message.queue=this.queueName,n.onconfirmed.pipe((0,c.q)(1)).subscribe(i=>{i&&this.queueService.push(i).then(a=>{})})}read(){this.queueService.read(this.queueName).then(t=>this.showQueueMessage(t))}consume(){let n=this.dialog.open(p.z,{width:"600px"}).componentInstance;n.message='Your message will be <b class="imp">consumed.</b> You will see the message after you confirmed this. But queue consumers will not receive that message and it will be deleted <b class="imp">permanently.</b>',n.onclosed.pipe((0,c.q)(1)).subscribe(i=>{i&&this.queueService.consume(this.queueName).then(a=>this.showQueueMessage(a))})}showQueueMessage(t){if(null==t)return void alert("There is no message in the queue");let i=this.dialog.open(w,{width:"920px"}).componentInstance;try{t.messageObj=JSON.parse(t.message)}catch(a){}i.message=t}clear(){let n=this.dialog.open(p.z,{width:"600px"}).componentInstance;n.message='All messages in queue will be deleted <b class="imp">permanently.</b>',n.onclosed.pipe((0,c.q)(1)).subscribe(i=>{i&&this.queueService.clear(this.queueName).then(a=>this.load())})}move(){let n=this.dialog.open(b,{width:"600px"}).componentInstance;n.messageCount=321,n.onconfirmed.pipe((0,c.q)(1)).subscribe(i=>{null==i||i.length<1||(i=i.trim(),this.queueService.move(this.queueName,i).then(a=>this.load()))})}remove(){let n=this.dialog.open(p.z,{width:"600px"}).componentInstance;n.message='You are about to delete your queue. The queue and all messages in it will be deleted <b class="imp">permanently.</b>',n.onclosed.pipe((0,c.q)(1)).subscribe(i=>{i&&this.queueService.delete(this.queueName).then(a=>{this.router.navigateByUrl("/queues")})})}setStatus(t){let i=this.dialog.open(p.z,{width:"600px"}).componentInstance;i.message='You are about to change your queue status to <b class="imp">'+t+".</b> That operation might affect your producers and consumers.",i.onclosed.pipe((0,c.q)(1)).subscribe(a=>{a&&this.queueService.status(this.queueName,t).then(g=>this.load())})}changeOption(t,n,i){let g=this.dialog.open(z,{width:"500px"}).componentInstance;g.model.title=t,g.model.property=n,g.model.value=i,g.onconfirmed.pipe((0,c.q)(1)).subscribe(_=>{_.confirmed&&this.queueService.setOption(this.queueName,_.property,_.value).then(()=>this.load())})}resetStats(){let n=this.dialog.open(p.z,{width:"450px"}).componentInstance;n.message="Queue statistics will be reset. Are you sure?",n.onclosed.pipe((0,c.q)(1)).subscribe(i=>{i&&this.queueService.resetStats(this.queue.info.name).then(()=>{this.load()})})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(l.uw),e.Y36(Y.C),e.Y36(m.gz),e.Y36(F.i),e.Y36(m.F0),e.Y36(L.g))},o.\u0275cmp=e.Xpm({type:o,selectors:[["queue-detail"]],features:[e.qOj],decls:18,vars:4,consts:[[1,"centered-body",3,"hidden"],[1,"vertical-content"],[1,"vertical-col"],[1,"portlet"],[1,"portlet-title"],[1,"portlet-body",2,"height","330px"],["id","queue-delivery-chart"],[1,"portlet-body"],["id","queue-store-chart"],["class","portlet",4,"ngIf"],[4,"ngIf"],["class","centered-body",4,"ngIf"],[2,"height","80px"],[3,"click"],[1,"portlet-body",2,"min-height","377px"],[1,"key-value-table"],[1,"kvt-row"],[1,"kvt-key"],[1,"kvt-value"],["class","kvt-value",4,"ngIf"],[1,"queue-panel"],[1,"operation-panel"],[1,"operation-button","btn-green",3,"click"],[1,"operation-button","btn-yellow",3,"click"],[1,"operation-button","btn-cyan",3,"click"],[1,"operation-button","btn-purple",3,"click"],[1,"operation-button","btn-orange",3,"click"],[1,"operation-button","btn-red",3,"click"],[1,"status-panel"],[1,"status-button","btn-orange",3,"click"],[1,"status-button","btn-green",3,"click"],[1,"status-button","btn-purple",3,"click"],[1,"status-button","btn-cyan",3,"click"],[1,"portlet-body",2,"height","790px"],[1,"kvt-row","kvt-seperator"],[1,"change-option",3,"click"],[1,"centered-body"],[1,"portlet","full"],[1,"portlet-body","table","table-small"],[1,"thead"],[1,"th","fx14"],[1,"th","fx22"],[1,"th","fx10"],[1,"tbody"],["class","trow",4,"ngFor","ngForOf"],[1,"trow"],[1,"td","fx14"],[1,"td","fx22"],[3,"routerLink"],[1,"td","fx10"],["class","td fx10",4,"ngIf"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e._uU(5,"Queue Delivery"),e.qZA(),e.TgZ(6,"div",5),e._UZ(7,"canvas",6),e.qZA()(),e.TgZ(8,"div",3)(9,"h3",4),e._uU(10,"Queue Messages"),e.qZA(),e.TgZ(11,"div",7),e._UZ(12,"canvas",8),e.qZA()(),e.YNc(13,$,42,12,"div",9),e.qZA(),e.TgZ(14,"div",2),e.YNc(15,ue,180,31,"div",10),e.qZA()()(),e.YNc(16,ce,25,1,"div",11),e._UZ(17,"div",12)),2&t&&(e.Q6J("hidden",null==n.queue),e.xp6(13),e.Q6J("ngIf",n.queue),e.xp6(2),e.Q6J("ngIf",n.queue),e.xp6(1),e.Q6J("ngIf",n.queue&&n.queue.consumers))},directives:[r.O5,r.sg,m.yS],pipes:[r.uU,B.O,E.c],styles:[".vertical-col[_ngcontent-%COMP%]   .portlet[_ngcontent-%COMP%]{margin-bottom:18px}.queue-panel[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:stretch;align-content:stretch;justify-items:stretch;justify-content:stretch}.operation-panel[_ngcontent-%COMP%]{flex:1 1 auto;display:flex;flex-direction:row;flex-wrap:wrap;align-content:flex-start;align-items:flex-start;justify-items:flex-start;justify-content:flex-start}.operation-panel[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{flex:1 1 50%}.operation-panel[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 6px 14px 0;padding:0 4px;font-size:13px;line-height:20px;color:#bbb}.operation-panel[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{color:#fff;font-weight:500}.operation-button[_ngcontent-%COMP%]{margin:6px 4px;color:#f0f0f0;border-style:solid;border-width:2px;border-radius:2px;padding:10px 14px;font-weight:600;background-color:transparent}.status-panel[_ngcontent-%COMP%]{flex:0 2 150px;flex-basis:150px;min-width:150px;color:#ddd}.status-panel[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:5px 0}.status-panel[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{display:block;font-style:normal;font-size:12px}.status-panel[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;font-weight:500;color:#efdf20;font-size:16px;line-height:26px}.status-button[_ngcontent-%COMP%]{border-style:solid;border-width:2px;border-radius:2px;color:#fff;width:145px;box-sizing:border-box;padding:8px 0;font-weight:600;background-color:transparent}"]}),o})(),pe=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[r.ez,C.D,l.Is,d.u5,m.Bz.forChild([{path:":name",component:ge}])]]}),o})()}}]);