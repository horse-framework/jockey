import{a as R}from"./chunk-BXDPRKZC.js";import"./chunk-DTICWRO3.js";import{a as L}from"./chunk-IARL6YQG.js";import{Aa as c,Fa as m,Ga as n,Ha as o,Ia as S,Ib as G,Ja as y,Ka as u,N as T,Pb as H,Qa as _,Xa as a,Ya as f,Za as C,d as h,eb as K,ia as i,ib as O,kb as F,ra as b,ua as N,ub as D,va as k,vb as P,wb as $,xb as w,ya as M}from"./chunk-I3ZBIMQN.js";function B(t,l){t&1&&S(0,"div",17)}function U(t,l){t&1&&S(0,"div",18)}function Y(t,l){if(t&1&&(n(0,"span"),a(1),n(2,"em"),a(3),o()()),t&2){let e=_(2).$implicit;i(),C("",e.type," "),i(2),C("(",e.typeCount," Clients)")}}function z(t,l){t&1&&(n(0,"em"),a(1,"Not Specified"),o())}function J(t,l){if(t&1&&(y(0),c(1,Y,4,2,"span",13)(2,z,2,0,"em",13),u()),t&2){let e=_().$implicit;i(),m("ngIf",e.type),i(),m("ngIf",!e.type)}}function Q(t,l){if(t&1&&(n(0,"span"),a(1),n(2,"em"),a(3),o()()),t&2){let e=_(2).$implicit;i(),C("",e.name," "),i(2),C("(",e.nameCount," Clients)")}}function V(t,l){t&1&&(n(0,"em"),a(1,"Not Specified"),o())}function W(t,l){if(t&1&&(y(0),c(1,Q,4,2,"span",13)(2,V,2,0,"em",13),u()),t&2){let e=_().$implicit;i(),m("ngIf",e.name),i(),m("ngIf",!e.name)}}function X(t,l){if(t&1&&(n(0,"span"),a(1),o()),t&2){let e=_().$implicit;i(),f(e.client.ip)}}function Z(t,l){t&1&&(n(0,"em"),a(1,"Unknown"),o())}function ee(t,l){if(t&1&&(y(0),c(1,B,1,0,"div",9)(2,U,1,0,"div",10),n(3,"div",11)(4,"div",12),c(5,J,3,2,"ng-container",13),o(),n(6,"div",12),c(7,W,3,2,"ng-container",13),o(),n(8,"div",14)(9,"span")(10,"a",15),a(11),o()()(),n(12,"div",16),c(13,X,2,1,"span",13)(14,Z,2,0,"em",13),o(),n(15,"div",16)(16,"span"),a(17),o()(),n(18,"div",16)(19,"span"),a(20),o()(),n(21,"div",16)(22,"span"),a(23),O(24,"date"),o()()(),u()),t&2){let e=l.$implicit;i(),m("ngIf",e.type!="*"),i(),m("ngIf",e.type=="*"&&e.name!="*"),i(3),m("ngIf",e.type!="*"),i(2),m("ngIf",e.name!="*"),i(3),m("routerLink",K("/client/",e.client.uniqueId)),i(),f(e.client.uniqueId),i(2),m("ngIf",e.client.ip),i(),m("ngIf",!e.client.ip),i(3),f(e.client.isAuthenticated?"Yes":"No"),i(3),f(e.client.protocol),i(3),f(F(24,12,e.client.connectedDate*1e3,"yyyy-MM-dd HH:mm:ss"))}}function te(t,l){if(t&1&&(n(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4),a(4," Type "),n(5,"em"),a(6),o()(),n(7,"div",4),a(8,"Name"),o(),n(9,"div",5),a(10,"Unique Id"),o(),n(11,"div",6),a(12,"Remote IP Address"),o(),n(13,"div",6),a(14,"Is Authenticated"),o(),n(15,"div",6),a(16,"Protocol"),o(),n(17,"div",6),a(18,"Connected Date"),o()(),n(19,"div",7),c(20,ee,25,15,"ng-container",8),o()()()),t&2){let e=_();i(6),C("(",e.model.length," Clients)"),i(14),m("ngForOf",e.model)}}var I=class t extends L{constructor(e){super();this.clientService=e}model=[];ngOnInit(){return h(this,null,function*(){this.refreshClients(),this.subscribeToListRefresh().subscribe(()=>this.refreshClients())})}refreshClients(){return h(this,null,function*(){this.clientService.list().subscribe(e=>{let p=e.body,d=[],x="",E="",s={};p.forEach(r=>{let g=this.findTypeKey(r.type,r.name),v=this.findNameKey(r.type,r.name);s[g]?s[g]++:s[g]=1,s[v]?s[v]++:s[v]=1;let q={type:r.type==x?"*":r.type,name:r.name==E?"*":r.name,client:r};x=r.type,E=r.name,d.push(q)}),d.forEach(r=>{let g=this.findTypeKey(r.client.type,r.client.name),v=this.findNameKey(r.client.type,r.client.name);r.typeCount=s[g],r.nameCount=s[v]}),this.model=d})})}findTypeKey(e,p){return e?"*t*"+e:"*tn"}findNameKey(e,p){let d=e?"*t*"+e:"*tn",x=p?"*n*"+p:"*nn";return d+"_"+x}static \u0275fac=function(p){return new(p||t)(b(R))};static \u0275cmp=N({type:t,selectors:[["app-clients"]],standalone:!1,features:[M],decls:1,vars:1,consts:[["class","clients",4,"ngIf"],[1,"clients"],[1,"table"],[1,"thead"],[1,"th","fx16"],[1,"th","fx20"],[1,"th","fx12"],[1,"tbody"],[4,"ngFor","ngForOf"],["style","height: 1px; background-color: #109040;",4,"ngIf"],["style","height: 1px; background-color: #666;",4,"ngIf"],[1,"trow"],[1,"td","fx16"],[4,"ngIf"],[1,"td","fx20"],[3,"routerLink"],[1,"td","fx12"],[2,"height","1px","background-color","#109040"],[2,"height","1px","background-color","#666"]],template:function(p,d){p&1&&c(0,te,21,2,"div",0),p&2&&m("ngIf",d.model)},dependencies:[D,P,G,$],styles:[".clients[_ngcontent-%COMP%]{margin:auto;padding:0 60px;text-align:center}.clients[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]{width:100%;text-align:left}"]})};var j=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=k({type:t});static \u0275inj=T({imports:[w,H.forChild([{path:"",component:I}])]})};export{j as ClientsModule};
