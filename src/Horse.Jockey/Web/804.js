"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[804],{8293:(Y,r,l)=>{l.r(r),l.d(r,{ClientsModule:()=>k});var m=l(6814),g=l(5861),x=l(3791),n=l(8124),y=l(5278),u=l(6956);function v(t,o){1&t&&n._UZ(0,"div",17)}function Z(t,o){1&t&&n._UZ(0,"div",18)}function C(t,o){if(1&t&&(n.TgZ(0,"span"),n._uU(1),n.TgZ(2,"em"),n._uU(3),n.qZA()()),2&t){const e=n.oxw(2).$implicit;n.xp6(1),n.hij("",e.type," "),n.xp6(2),n.hij("(",e.typeCount," Clients)")}}function h(t,o){1&t&&(n.TgZ(0,"em"),n._uU(1,"Not Specified"),n.qZA())}function T(t,o){if(1&t&&(n.ynx(0),n.YNc(1,C,4,2,"span",13)(2,h,2,0,"em",13),n.BQk()),2&t){const e=n.oxw().$implicit;n.xp6(1),n.Q6J("ngIf",e.type),n.xp6(1),n.Q6J("ngIf",!e.type)}}function A(t,o){if(1&t&&(n.TgZ(0,"span"),n._uU(1),n.TgZ(2,"em"),n._uU(3),n.qZA()()),2&t){const e=n.oxw(2).$implicit;n.xp6(1),n.hij("",e.name," "),n.xp6(2),n.hij("(",e.nameCount," Clients)")}}function U(t,o){1&t&&(n.TgZ(0,"em"),n._uU(1,"Not Specified"),n.qZA())}function q(t,o){if(1&t&&(n.ynx(0),n.YNc(1,A,4,2,"span",13)(2,U,2,0,"em",13),n.BQk()),2&t){const e=n.oxw().$implicit;n.xp6(1),n.Q6J("ngIf",e.name),n.xp6(1),n.Q6J("ngIf",!e.name)}}function I(t,o){if(1&t&&(n.TgZ(0,"span"),n._uU(1),n.qZA()),2&t){const e=n.oxw().$implicit;n.xp6(1),n.Oqu(e.client.ip)}}function N(t,o){1&t&&(n.TgZ(0,"em"),n._uU(1,"Unknown"),n.qZA())}function Q(t,o){if(1&t&&(n.ynx(0),n.YNc(1,v,1,0,"div",9)(2,Z,1,0,"div",10),n.TgZ(3,"div",11)(4,"div",12),n.YNc(5,T,3,2,"ng-container",13),n.qZA(),n.TgZ(6,"div",12),n.YNc(7,q,3,2,"ng-container",13),n.qZA(),n.TgZ(8,"div",14)(9,"span")(10,"a",15),n._uU(11),n.qZA()()(),n.TgZ(12,"div",16),n.YNc(13,I,2,1,"span",13)(14,N,2,0,"em",13),n.qZA(),n.TgZ(15,"div",16)(16,"span"),n._uU(17),n.qZA()(),n.TgZ(18,"div",16)(19,"span"),n._uU(20),n.qZA()(),n.TgZ(21,"div",16)(22,"span"),n._uU(23),n.ALo(24,"date"),n.qZA()()(),n.BQk()),2&t){const e=o.$implicit;n.xp6(1),n.Q6J("ngIf","*"!=e.type),n.xp6(1),n.Q6J("ngIf","*"==e.type&&"*"!=e.name),n.xp6(3),n.Q6J("ngIf","*"!=e.type),n.xp6(2),n.Q6J("ngIf","*"!=e.name),n.xp6(3),n.MGl("routerLink","/client/",e.client.uniqueId,""),n.xp6(1),n.Oqu(e.client.uniqueId),n.xp6(2),n.Q6J("ngIf",e.client.ip),n.xp6(1),n.Q6J("ngIf",!e.client.ip),n.xp6(3),n.Oqu(e.client.isAuthenticated?"Yes":"No"),n.xp6(3),n.Oqu(e.client.protocol),n.xp6(3),n.Oqu(n.xi3(24,11,1e3*e.client.connectedDate,"yyyy-MM-dd HH:mm:ss"))}}function J(t,o){if(1&t&&(n.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4),n._uU(4," Type "),n.TgZ(5,"em"),n._uU(6),n.qZA()(),n.TgZ(7,"div",4),n._uU(8,"Name"),n.qZA(),n.TgZ(9,"div",5),n._uU(10,"Unique Id"),n.qZA(),n.TgZ(11,"div",6),n._uU(12,"Remote IP Address"),n.qZA(),n.TgZ(13,"div",6),n._uU(14,"Is Authenticated"),n.qZA(),n.TgZ(15,"div",6),n._uU(16,"Protocol"),n.qZA(),n.TgZ(17,"div",6),n._uU(18,"Connected Date"),n.qZA()(),n.TgZ(19,"div",7),n.YNc(20,Q,25,14,"ng-container",8),n.qZA()()()),2&t){const e=n.oxw();n.xp6(6),n.hij("(",e.model.length," Clients)"),n.xp6(14),n.Q6J("ngForOf",e.model)}}let O=(()=>{class t extends x.H{constructor(e){super(),this.clientService=e,this.model=null}ngOnInit(){var e=this;return(0,g.Z)(function*(){e.refreshClients(),e.subscribeToListRefresh().subscribe(()=>e.refreshClients())})()}refreshClients(){var e=this;return(0,g.Z)(function*(){let c=yield e.clientService.list(),s=[],d="",f="",a={};c.forEach(i=>{let p=e.findTypeKey(i.type,i.name),_=e.findNameKey(i.type,i.name);a[p]?a[p]++:a[p]=1,a[_]?a[_]++:a[_]=1;let K={type:i.type==d?"*":i.type,name:i.name==f?"*":i.name,client:i};d=i.type,f=i.name,s.push(K)}),s.forEach(i=>{let p=e.findTypeKey(i.client.type,i.client.name),_=e.findNameKey(i.client.type,i.client.name);i.typeCount=a[p],i.nameCount=a[_]}),e.model=s})()}findTypeKey(e,c){return e?"*t*"+e:"*tn"}findNameKey(e,c){return(e?"*t*"+e:"*tn")+"_"+(c?"*n*"+c:"*nn")}static#n=this.\u0275fac=function(c){return new(c||t)(n.Y36(y.y))};static#e=this.\u0275cmp=n.Xpm({type:t,selectors:[["app-clients"]],features:[n.qOj],decls:1,vars:1,consts:[["class","clients",4,"ngIf"],[1,"clients"],[1,"table"],[1,"thead"],[1,"th","fx16"],[1,"th","fx20"],[1,"th","fx12"],[1,"tbody"],[4,"ngFor","ngForOf"],["style","height: 1px; background-color: #109040;",4,"ngIf"],["style","height: 1px; background-color: #666;",4,"ngIf"],[1,"trow"],[1,"td","fx16"],[4,"ngIf"],[1,"td","fx20"],[3,"routerLink"],[1,"td","fx12"],[2,"height","1px","background-color","#109040"],[2,"height","1px","background-color","#666"]],template:function(c,s){1&c&&n.YNc(0,J,21,2,"div",0),2&c&&n.Q6J("ngIf",s.model)},dependencies:[m.sg,m.O5,u.rH,m.uU],styles:[".clients[_ngcontent-%COMP%]{margin:auto;padding:0 60px;text-align:center}.clients[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]{width:100%;text-align:left}"]})}return t})(),k=(()=>{class t{static#n=this.\u0275fac=function(c){return new(c||t)};static#e=this.\u0275mod=n.oAB({type:t});static#t=this.\u0275inj=n.cJS({imports:[m.ez,u.Bz.forChild([{path:"",component:O}])]})}return t})()}}]);