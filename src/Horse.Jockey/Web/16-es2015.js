(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{"1HEZ":function(e,i,t){"use strict";t.r(i),t.d(i,"QueueModule",(function(){return H}));var b=t("ofXK"),s=t("mrSG"),a=t("MO+k"),u=t.n(a),d=t("HIds"),n=t("5mbK"),o=t("l5mm"),c=t("fXoL"),r=t("tyNb"),l=t("s4Wa"),v=t("FuJ8"),N=t("XDv6"),O=t("b1cu"),m=t("MMFR");function p(e,i){if(1&e&&(c.Ob(0,"div",13),c.jc(1),c.Zb(2,"date"),c.Nb()),2&e){const e=c.Yb(2);c.zb(1),c.kc(c.bc(2,1,1e3*e.queue.stats.lastReceived,"yyyy-MM-dd HH:mm:ss"))}}function f(e,i){1&e&&(c.Ob(0,"div",13),c.jc(1,"None"),c.Nb())}function h(e,i){if(1&e&&(c.Ob(0,"div",13),c.jc(1),c.Zb(2,"date"),c.Nb()),2&e){const e=c.Yb(2);c.zb(1),c.kc(c.bc(2,1,1e3*e.queue.stats.lastSent,"yyyy-MM-dd HH:mm:ss"))}}function g(e,i){1&e&&(c.Ob(0,"div",13),c.jc(1,"None"),c.Nb())}function q(e,i){if(1&e&&(c.Ob(0,"div",3),c.Ob(1,"h3",4),c.jc(2,"Queue Statistics"),c.Nb(),c.Ob(3,"div",5),c.Ob(4,"div",10),c.Ob(5,"div",11),c.Ob(6,"div",12),c.jc(7,"Published Messages"),c.Nb(),c.Ob(8,"div",13),c.jc(9),c.Nb(),c.Nb(),c.Ob(10,"div",11),c.Ob(11,"div",12),c.jc(12,"Consumed Messages"),c.Nb(),c.Ob(13,"div",13),c.jc(14),c.Nb(),c.Nb(),c.Ob(15,"div",11),c.Ob(16,"div",12),c.jc(17,"Acknowledge Messages"),c.Nb(),c.Ob(18,"div",13),c.jc(19),c.Nb(),c.Nb(),c.Ob(20,"div",11),c.Ob(21,"div",12),c.jc(22,"Total Timed out Messages"),c.Nb(),c.Ob(23,"div",13),c.jc(24),c.Nb(),c.Nb(),c.Ob(25,"div",11),c.Ob(26,"div",12),c.jc(27,"Total Errors"),c.Nb(),c.Ob(28,"div",13),c.jc(29),c.Nb(),c.Nb(),c.Ob(30,"div",11),c.Ob(31,"div",12),c.jc(32,"Last Publish Date"),c.Nb(),c.ic(33,p,3,4,"div",14),c.ic(34,f,2,0,"div",14),c.Nb(),c.Ob(35,"div",11),c.Ob(36,"div",12),c.jc(37,"Last Consume Date"),c.Nb(),c.ic(38,h,3,4,"div",14),c.ic(39,g,2,0,"div",14),c.Nb(),c.Nb(),c.Nb(),c.Nb()),2&e){const e=c.Yb();c.zb(9),c.kc(e.queue.stats.totalReceived),c.zb(5),c.mc("",e.queue.stats.totalDelivered," consumes, ",e.queue.stats.totalSent," unique msgs"),c.zb(5),c.nc("",e.queue.stats.totalAck," ack, ",e.queue.stats.totalNack," nack, ",e.queue.stats.totalUnack," unack"),c.zb(5),c.kc(e.queue.stats.totalTimedout),c.zb(5),c.kc(e.queue.stats.totalErrors),c.zb(4),c.cc("ngIf",e.queue.stats.lastReceived>0),c.zb(1),c.cc("ngIf",0==e.queue.stats.lastReceived),c.zb(4),c.cc("ngIf",e.queue.stats.lastSent>0),c.zb(1),c.cc("ngIf",0==e.queue.stats.lastSent)}}function j(e,i){if(1&e&&(c.Ob(0,"div",13),c.jc(1),c.Nb()),2&e){const e=c.Yb(2);c.zb(1),c.lc("",e.queue.info.ackTimeout," ms timeout")}}function k(e,i){1&e&&(c.Ob(0,"div",13),c.jc(1,"No timeout"),c.Nb())}function y(e,i){1&e&&(c.Ob(0,"div",13),c.jc(1,"No Timeout"),c.Nb())}function z(e,i){if(1&e&&(c.Ob(0,"div",13),c.jc(1),c.Nb()),2&e){const e=c.Yb(2);c.zb(1),c.lc(" ",e.queue.info.msgTimeout," milliseconds ")}}function M(e,i){1&e&&(c.Ob(0,"div",13),c.jc(1,"No Delay"),c.Nb())}function R(e,i){if(1&e&&(c.Ob(0,"div",13),c.jc(1),c.Nb()),2&e){const e=c.Yb(2);c.zb(1),c.lc(" ",e.queue.info.delayBetweenMessages," milliseconds ")}}function T(e,i){1&e&&(c.Ob(0,"div",13),c.jc(1,"No Delay"),c.Nb())}function D(e,i){if(1&e&&(c.Ob(0,"div",13),c.jc(1),c.Nb()),2&e){const e=c.Yb(2);c.zb(1),c.lc(" ",e.queue.info.putBackDelay," milliseconds ")}}function I(e,i){if(1&e&&(c.Ob(0,"div"),c.Ob(1,"div",3),c.Ob(2,"h3",4),c.jc(3,"Queue Actions"),c.Nb(),c.Ob(4,"div",15),c.Ob(5,"div"),c.Ob(6,"p",16),c.Ob(7,"b"),c.jc(8,"Under construction"),c.Nb(),c.Kb(9,"br"),c.jc(10," Move messages to another queue, Clear messages, Export messages,"),c.Kb(11,"br"),c.jc(12," Remove all subscribers, Pause/Stop/Resume the queue operations, Delete queue,"),c.Kb(13,"br"),c.jc(14," Push new message into the queue, Change some queue options. "),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Ob(15,"div",3),c.Ob(16,"h3",4),c.jc(17,"Queue Information"),c.Nb(),c.Ob(18,"div",5),c.Ob(19,"div",10),c.Ob(20,"div",11),c.Ob(21,"div",12),c.jc(22,"Name"),c.Nb(),c.Ob(23,"div",13),c.jc(24),c.Nb(),c.Nb(),c.Ob(25,"div",11),c.Ob(26,"div",12),c.jc(27,"Active Consumers"),c.Nb(),c.Ob(28,"div",13),c.jc(29),c.Nb(),c.Nb(),c.Ob(30,"div",11),c.Ob(31,"div",12),c.jc(32,"Stored Messages"),c.Nb(),c.Ob(33,"div",13),c.jc(34),c.Nb(),c.Nb(),c.Kb(35,"div",17),c.Ob(36,"div",11),c.Ob(37,"div",12),c.jc(38,"Topic"),c.Nb(),c.Ob(39,"div",13),c.jc(40),c.Nb(),c.Nb(),c.Ob(41,"div",11),c.Ob(42,"div",12),c.jc(43,"Status"),c.Nb(),c.Ob(44,"div",13),c.jc(45),c.Nb(),c.Nb(),c.Ob(46,"div",11),c.Ob(47,"div",12),c.jc(48,"Delivery Handler"),c.Nb(),c.Ob(49,"div",13),c.jc(50),c.Nb(),c.Nb(),c.Ob(51,"div",11),c.Ob(52,"div",12),c.jc(53,"Subscribers Limit"),c.Nb(),c.Ob(54,"div",13),c.jc(55),c.Zb(56,"unlimited"),c.Nb(),c.Nb(),c.Ob(57,"div",11),c.Ob(58,"div",12),c.jc(59,"Created Date"),c.Nb(),c.Ob(60,"div",13),c.jc(61),c.Zb(62,"date"),c.Nb(),c.Nb(),c.Ob(63,"div",11),c.Ob(64,"div",12),c.jc(65,"Hide Client Names"),c.Nb(),c.Ob(66,"div",13),c.jc(67),c.Nb(),c.Nb(),c.Kb(68,"div",17),c.Ob(69,"div",11),c.Ob(70,"div",12),c.jc(71,"Acknowledge"),c.Nb(),c.Ob(72,"div",13),c.jc(73),c.Nb(),c.Nb(),c.Ob(74,"div",11),c.Ob(75,"div",12),c.jc(76,"Acknowledge Timeout"),c.Nb(),c.ic(77,j,2,1,"div",14),c.ic(78,k,2,0,"div",14),c.Nb(),c.Kb(79,"div",17),c.Ob(80,"div",11),c.Ob(81,"div",12),c.jc(82,"Message Timeout"),c.Nb(),c.ic(83,y,2,0,"div",14),c.ic(84,z,2,1,"div",14),c.Nb(),c.Ob(85,"div",11),c.Ob(86,"div",12),c.jc(87,"Message Limit"),c.Nb(),c.Ob(88,"div",13),c.jc(89),c.Zb(90,"unlimited"),c.Nb(),c.Nb(),c.Ob(91,"div",11),c.Ob(92,"div",12),c.jc(93,"Message Size Limit"),c.Nb(),c.Ob(94,"div",13),c.jc(95),c.Zb(96,"filesize"),c.Nb(),c.Nb(),c.Kb(97,"div",17),c.Ob(98,"div",11),c.Ob(99,"div",12),c.jc(100,"Delay Between Messages"),c.Nb(),c.ic(101,M,2,0,"div",14),c.ic(102,R,2,1,"div",14),c.Nb(),c.Ob(103,"div",11),c.Ob(104,"div",12),c.jc(105,"Put Back Delay"),c.Nb(),c.ic(106,T,2,0,"div",14),c.ic(107,D,2,1,"div",14),c.Nb(),c.Ob(108,"div",11),c.Ob(109,"div",12),c.jc(110,"Auto Destroy"),c.Nb(),c.Ob(111,"div",13),c.jc(112),c.Nb(),c.Nb(),c.Ob(113,"div",11),c.Ob(114,"div",12),c.jc(115,"Using Unique Message Id"),c.Nb(),c.Ob(116,"div",13),c.jc(117),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Nb(),c.Nb()),2&e){const e=c.Yb();c.zb(24),c.kc(e.queue.info.name),c.zb(5),c.kc(e.queue.stats.consumers),c.zb(5),c.kc(e.queue.stats.storedMsgs+e.queue.stats.storedPrioMsgs+e.queue.stats.processingMsgs),c.zb(6),c.kc(e.queue.info.topic),c.zb(5),c.kc(e.queue.info.status),c.zb(5),c.kc(e.queue.info.handler),c.zb(5),c.kc(c.ac(56,22,e.queue.options.clientLimit)),c.zb(6),c.kc(c.bc(62,24,1e3*e.queue.info.createdDate,"yyyy-MM-dd HH:mm:ss")),c.zb(6),c.kc(e.queue.info.hideClientNames),c.zb(6),c.lc(" ",e.queue.info.acknowledge," "),c.zb(4),c.cc("ngIf",e.queue.info.ackTimeout>0),c.zb(1),c.cc("ngIf",0==e.queue.info.ackTimeout),c.zb(5),c.cc("ngIf",0==e.queue.info.msgTimeout),c.zb(1),c.cc("ngIf",e.queue.info.msgTimeout>0),c.zb(5),c.lc(" ",c.ac(90,27,e.queue.info.messageLimit)," "),c.zb(6),c.lc(" ",c.ac(96,29,e.queue.info.messageSizeLimit)," "),c.zb(6),c.cc("ngIf",0==e.queue.info.delayBetweenMessages),c.zb(1),c.cc("ngIf",e.queue.info.delayBetweenMessages>0),c.zb(4),c.cc("ngIf",0==e.queue.info.putBackDelay),c.zb(1),c.cc("ngIf",e.queue.info.putBackDelay>0),c.zb(5),c.kc(e.queue.info.autoDestroy),c.zb(5),c.kc(e.queue.info.useMessageId)}}let w=(()=>{class e extends d.a{constructor(e,i,t,b){super(),this.activatedRoute=e,this.queueGraphService=i,this.socket=t,this.queueService=b}ngOnInit(){return Object(s.a)(this,void 0,void 0,(function*(){if(this.queueName=this.activatedRoute.snapshot.params.name,null==this.queueName||0==this.queueName.length)return;yield this.load();let e={requestId:(new Date).getTime().toString(),name:this.queue.info.name};this.socket.send(n.a.QueueDetailRequest,e),this.on(Object(o.a)(5e3)).subscribe(()=>this.load())}))}load(){return Object(s.a)(this,void 0,void 0,(function*(){this.queue=yield this.queueService.get(this.queueName);let e=this.queueGraphService.createLabels(this.queue.graph);this.deliveryChart=new u.a(document.getElementById("queue-delivery-chart"),{type:"line",hover:{mode:"nearest",intersect:!0},data:{labels:e,datasets:[{label:"Received",borderColor:"#444",data:this.queue.graph.map(e=>e.received),fill:!1,pointRadius:1,pointHitRadius:8,lineTension:.2,borderWidth:2},{label:"Delivered",borderColor:"#1070af",data:this.queue.graph.map(e=>e.delivery),fill:!1,pointRadius:1,pointHitRadius:8,lineTension:.2,borderWidth:2},{label:"Ack",borderColor:"#10b02a",data:this.queue.graph.map(e=>e.ack),fill:!1,pointRadius:1,pointHitRadius:8,lineTension:.2,borderWidth:2},{label:"Neg. Ack",borderColor:"#a020c0",data:this.queue.graph.map(e=>e.nack),fill:!1,pointRadius:1,pointHitRadius:8,lineTension:.2,borderWidth:2},{label:"Unack",borderColor:"#999",data:this.queue.graph.map(e=>e.unack),fill:!1,pointRadius:1,pointHitRadius:8,lineTension:.2,borderWidth:2},{label:"Error",borderColor:"#ff0000",data:this.queue.graph.map(e=>e.error),fill:!1,pointRadius:1,pointHitRadius:8,lineTension:.2,borderWidth:2}]},options:{animation:{duration:0},responsive:!0,scales:{xAxes:[{display:!1}],yAxes:[{display:!0,ticks:{precision:0}}]}}}),this.storeChart=new u.a(document.getElementById("queue-store-chart"),{type:"line",hover:{mode:"nearest",intersect:!0},data:{labels:e,datasets:[{label:"Msgs",borderColor:"#104090",data:this.queue.graph.map(e=>e.stored),fill:!1,pointRadius:1,pointHitRadius:8,lineTension:.2,borderWidth:2},{label:"High Prio Msgs",borderColor:"#f07000",data:this.queue.graph.map(e=>e.storedPrio),fill:!1,pointRadius:1,pointHitRadius:8,lineTension:.2,borderWidth:2},{label:"Pending for Ack",borderColor:"#aa2080",data:this.queue.graph.map(e=>e.pending),fill:!1,pointRadius:1,pointHitRadius:8,lineTension:.2,borderWidth:2},{label:"Timeout",borderColor:"#cc3333",data:this.queue.graph.map(e=>e.timeout),fill:!1,pointRadius:1,pointHitRadius:8,lineTension:.2,borderWidth:2}]},options:{animation:{duration:0},responsive:!0,scales:{xAxes:[{display:!1}],yAxes:[{display:!0,ticks:{precision:0}}]}}})}))}ngOnDestroy(){super.ngOnDestroy();let e={requestId:(new Date).getTime().toString(),name:null};this.socket.send(n.a.QueueDetailRequest,e)}}return e.\u0275fac=function(i){return new(i||e)(c.Jb(r.a),c.Jb(l.a),c.Jb(v.a),c.Jb(N.a))},e.\u0275cmp=c.Db({type:e,selectors:[["app-queue"]],features:[c.wb],decls:16,vars:3,consts:[[1,"centered-body",3,"hidden"],[1,"vertical-content"],[1,"vertical-col"],[1,"portlet"],[1,"portlet-title"],[1,"portlet-body"],["id","queue-delivery-chart"],["id","queue-store-chart"],["class","portlet",4,"ngIf"],[4,"ngIf"],[1,"key-value-table"],[1,"kvt-row"],[1,"kvt-key"],[1,"kvt-value"],["class","kvt-value",4,"ngIf"],[1,"portlet-body",2,"height","240px"],[1,"small-desc"],[1,"kvt-row","kvt-seperator"]],template:function(e,i){1&e&&(c.Ob(0,"div",0),c.Ob(1,"div",1),c.Ob(2,"div",2),c.Ob(3,"div",3),c.Ob(4,"h3",4),c.jc(5,"Queue Delivery"),c.Nb(),c.Ob(6,"div",5),c.Kb(7,"canvas",6),c.Nb(),c.Nb(),c.Ob(8,"div",3),c.Ob(9,"h3",4),c.jc(10,"Queue Messages"),c.Nb(),c.Ob(11,"div",5),c.Kb(12,"canvas",7),c.Nb(),c.Nb(),c.ic(13,q,40,12,"div",8),c.Nb(),c.Ob(14,"div",2),c.ic(15,I,118,31,"div",9),c.Nb(),c.Nb(),c.Nb()),2&e&&(c.cc("hidden",null==i.queue),c.zb(13),c.cc("ngIf",i.queue),c.zb(2),c.cc("ngIf",i.queue))},directives:[b.j],pipes:[b.d,O.a,m.a],styles:[".vertical-col[_ngcontent-%COMP%]   .portlet[_ngcontent-%COMP%]{margin-bottom:18px}"]}),e})();var C=t("F4lh");let H=(()=>{class e{}return e.\u0275mod=c.Hb({type:e}),e.\u0275inj=c.Gb({factory:function(i){return new(i||e)},imports:[[b.b,C.a,r.e.forChild([{path:":name",component:w}])]]}),e})()}}]);